global.Contract2Object=CLASS(t=>{let n=!1;"undefined"!=typeof global.web3&&(global.web3=new Web3(global.web3.currentProvider),n=!0);let e=t.checkIsWeb3Enable=(()=>{return n}),u=(t,n)=>{if(0!==t.length){if(1===t.length){let e=t[0].type;if(void 0!==n.toNumber)return{value:n.toNumber(),str:n.toString(10)};if("[]"===e.substring(e.length-2)){let t=[],e=[];return EACH(n,(n,u)=>{void 0!==n.toNumber?(t.push(n.toNumber()),e.push(n.toString(10))):(t.push(n),e.push(String(n)))}),{value:t,str:e}}return{value:n,str:String(n)}}if(t.length>1){let e=[];return EACH(t,(t,u)=>{let i=t.type;if(void 0!==n[u].toNumber)e.push(n[u].toNumber());else if("[]"===i.substring(i.length-2)){let t=[];EACH(n[u],(n,e)=>{void 0!==n.toNumber?t.push(n.toNumber()):t.push(n)}),e.push(t)}else e.push(n[u])}),EACH(t,(t,u)=>{let i=t.type;if(void 0!==n[u].toNumber)e.push(n[u].toString(10));else if("[]"===i.substring(i.length-2)){let t=[];EACH(n[u],(n,e)=>{void 0!==n.toNumber?t.push(n.toString(10)):t.push(String(n))}),e.push(t)}else e.push(String(n[u]))}),{array:e}}}};return{init:(t,n,i)=>{let o,s=i.abi,r=i.address,a=(n.getAddress=(()=>{return r}),{});if(e()===!0)o=web3.eth.contract(s).at(r),o.allEvents((t,n)=>{if(t===TO_DELETE){let t=a[n.event];void 0!==t&&EACH(t,t=>{t(n.args)})}}),EACH(s,t=>{"function"===t.type&&(n[t.name]=((n,e)=>{void 0===e&&(e=n,n=void 0);let i,s,r;CHECK_IS_DATA(e)!==!0?i=e:(i=e.success,s=e.transactionAddress,r=e.error);let a=[];if(t.inputs.length<=1)a.push(n);else if(t.inputs.length>1){let e=[];EACH(n,t=>{e.push(t)}),EACH(t.inputs,(t,u)=>{""!==t.name?a.push(n[t.name]):a.push(e[u])})}t.payable===!0&&a.push(web3.toWei(n.ether,"ether")),a.push((e,o)=>{if(e!==TO_DELETE)void 0!==r?r(e.toString()):SHOW_ERROR(t.name,e.toString(),n);else if(t.constant===!0)void 0!==i&&(0===t.outputs.length?i():1===t.outputs.length?(o=u(t.outputs,o),i(o.value,o.str)):t.outputs.length>1&&(o=u(t.outputs,o),i.apply(TO_DELETE,o.array)));else if(void 0!==s&&s(o),void 0!==i){let e=RAR(()=>{web3.eth.getTransactionReceipt(o,(u,o)=>{u!==TO_DELETE?void 0!==r?r(u.toString()):SHOW_ERROR(t.name,u.toString(),n):o===TO_DELETE?e():i()})})}}),o[t.name].apply(o,a)}))});else if(void 0!==global.UPPERCASE&&void 0!==UPPERCASE.ROOM){let t=UPPERCASE.ROOM("__Contract2Object/"+r);EACH(s,e=>{"function"===e.type&&(n[e.name]=((n,u)=>{void 0===u&&(u=n,n=void 0);let i,o,s;CHECK_IS_DATA(u)!==!0?i=u:(i=u.success,o=u.transactionAddress,s=u.error);let r=[];if(e.inputs.length<=1)r.push(n);else if(e.inputs.length>1){let t=[];EACH(n,n=>{t.push(n)}),EACH(e.inputs,(e,u)=>{""!==e.name?r.push(n[e.name]):r.push(t[u])})}e.payable===!0&&r.push(web3.toWei(n.ether,"ether")),r.push(),t.send({methodName:e.name,data:n},t=>{e.constant===!0&&void 0!==i&&(0===e.outputs.length?i():1===e.outputs.length?i(t.value,t.str):e.outputs.length>1&&i.apply(TO_DELETE,t.array))})}))})}n.on=((t,n)=>{void 0===a[t]&&(a[t]=[]),a[t].push(n)}),n.off=((t,n)=>{void 0!==a[t]&&(void 0!==n&&REMOVE({array:a[t],value:n}),void 0!==n&&0!==a[t].length||delete a[t])})}}});