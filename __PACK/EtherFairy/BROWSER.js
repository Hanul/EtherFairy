EtherFairy.CalculateManager=OBJECT({init:(t,e)=>{let n=e.calculateEXP=(t=>{let e=INTEGER(Date.now()/1e3)-t;return e}),a=e.calculateLevel=(t=>{let e=0,n=0;return REPEAT({start:1,end:9999},a=>{return e+=10*(a-1)*(a-1)*a,t>=e&&void(n=a)}),n}),i=e.calculateHP=(t=>{return 100*t}),p=e.calculateDamage=(t=>{return 5*t}),r=e.calculateDefencePercent=(t=>{return parseFloat((Math.log10(t*t)*Math.log10(t*t)).toFixed(2))}),y=e.calculateAttackSpeed=(t=>{return 100+t/2}),o=e.calculateAvoidability=(t=>{return t+=1,parseFloat((Math.log10(t*t)*Math.log10(t*t)/2).toFixed(2))}),u=e.calculateCriticalPercent=(t=>{return t+=1,parseFloat((Math.log10(t*t)*Math.log10(t*t)/2).toFixed(2))}),s=(t,e)=>{if("fire"===t){if("wind"===e)return 50;if("light"===e)return 25}if("water"===t){if("fire"===e)return 50;if("light"===e)return 25}if("wind"===t){if("earth"===e)return 50;if("light"===e)return 25}if("earth"===t){if("water"===e)return 50;if("light"===e)return 25}if("light"===t&&"dark"===e)return 100;if("dark"===t){if("fire"===e)return 25;if("water"===e)return 25;if("wind"===e)return 25;if("earth"===e)return 25}return 0},m=(t,e)=>{let n=0;return t.firePoint>0&&(e.firePoint>0&&(n+=s("fire","fire")),e.waterPoint>0&&(n+=s("fire","water")),e.windPoint>0&&(n+=s("fire","wind")),e.earthPoint>0&&(n+=s("fire","earth")),e.lightPoint>0&&(n+=s("fire","light")),e.darkPoint>0&&(n+=s("fire","dark"))),t.waterPoint>0&&(e.firePoint>0&&(n+=s("water","fire")),e.waterPoint>0&&(n+=s("water","water")),e.windPoint>0&&(n+=s("water","wind")),e.earthPoint>0&&(n+=s("water","earth")),e.lightPoint>0&&(n+=s("water","light")),e.darkPoint>0&&(n+=s("water","dark"))),t.windPoint>0&&(e.firePoint>0&&(n+=s("wind","fire")),e.waterPoint>0&&(n+=s("wind","water")),e.windPoint>0&&(n+=s("wind","wind")),e.earthPoint>0&&(n+=s("wind","earth")),e.lightPoint>0&&(n+=s("wind","light")),e.darkPoint>0&&(n+=s("wind","dark"))),t.earthPoint>0&&(e.firePoint>0&&(n+=s("earth","fire")),e.waterPoint>0&&(n+=s("earth","water")),e.windPoint>0&&(n+=s("earth","wind")),e.earthPoint>0&&(n+=s("earth","earth")),e.lightPoint>0&&(n+=s("earth","light")),e.darkPoint>0&&(n+=s("earth","dark"))),t.lightPoint>0&&(e.firePoint>0&&(n+=s("light","fire")),e.waterPoint>0&&(n+=s("light","water")),e.windPoint>0&&(n+=s("light","wind")),e.earthPoint>0&&(n+=s("light","earth")),e.lightPoint>0&&(n+=s("light","light")),e.darkPoint>0&&(n+=s("light","dark"))),t.darkPoint>0&&(e.firePoint>0&&(n+=s("dark","fire")),e.waterPoint>0&&(n+=s("dark","water")),e.windPoint>0&&(n+=s("dark","wind")),e.earthPoint>0&&(n+=s("dark","earth")),e.lightPoint>0&&(n+=s("dark","light")),e.darkPoint>0&&(n+=s("dark","dark"))),n},l=e.calculateElementDamage=(t=>{return 5*t}),d=(t,e)=>{let n=(p(t.attackPoint)+l(t.firePoint)+l(t.waterPoint)+l(t.windPoint)+l(t.earthPoint)+l(t.lightPoint)+l(t.darkPoint))*(100-r(e.defencePoint))/100*(1+m(t,e)/100),a=y(t.agilityPoint)/60*(100-o(e.dexterityPoint))/100;return n+=n*u(t.dexterityPoint)/100*10,{damage:n,turn:i(e.hpPoint)/(n*a)}};e.battle=(t=>{let e=COPY(t.fairyData),p=COPY(t.enemyData),r=a(n(e.birthTime))+e.appendedLevel,y=a(n(p.birthTime))+p.appendedLevel;e.hpPoint=e.hpPointPerLevel*r,e.attackPoint=e.attackPointPerLevel*r,e.defencePoint=e.defencePointPerLevel*r,e.agilityPoint=e.agilityPointPerLevel*r,e.dexterityPoint=e.dexterityPointPerLevel*r,e.firePoint=e.firePointPerLevel*r,e.waterPoint=e.waterPointPerLevel*r,e.windPoint=e.windPointPerLevel*r,e.earthPoint=e.earthPointPerLevel*r,e.lightPoint=e.lightPointPerLevel*r,e.darkPoint=e.darkPointPerLevel*r,p.hpPoint=p.hpPointPerLevel*r,p.attackPoint=p.attackPointPerLevel*r,p.defencePoint=p.defencePointPerLevel*r,p.agilityPoint=p.agilityPointPerLevel*r,p.dexterityPoint=p.dexterityPointPerLevel*r,p.firePoint=p.firePointPerLevel*r,p.waterPoint=p.waterPointPerLevel*r,p.windPoint=p.windPointPerLevel*r,p.earthPoint=p.earthPointPerLevel*r,p.lightPoint=p.lightPointPerLevel*r,p.darkPoint=p.darkPointPerLevel*r;let o=d(e,p),u=d(p,e);return{fairyLevel:r,enemyLevel:y,fairyHP:i(e.hpPoint),enemyHP:i(p.hpPoint),fairyDamage:o.damage,enemyDamage:u.damage,fairyTurn:o.turn,enemyTurn:u.turn,isWin:o.turn<=u.turn}})}}),EtherFairy.TextBorderShadow=METHOD({run:t=>{return"1px 1px 0 "+t+",-1px 1px 0 "+t+",1px -1px 0 "+t+",-1px -1px 0 "+t+",0px 1px 0 "+t+",0px -1px 0 "+t+",-1px 0px 0 "+t+",1px 0px 0 "+t+",2px 2px 0 "+t+",-2px 2px 0 "+t+",2px -2px 0 "+t+",-2px -2px 0 "+t+",0px 2px 0 "+t+",0px -2px 0 "+t+",-2px 0px 0 "+t+",2px 0px 0 "+t+",1px 2px 0 "+t+",-1px 2px 0 "+t+",1px -2px 0 "+t+",-1px -2px 0 "+t+",2px 1px 0 "+t+",-2px 1px 0 "+t+",2px -1px 0 "+t+",-2px -1px 0 "+t}}),EtherFairy.EtherFairyContract=OBJECT({preset:()=>{return Contract2Object},params:()=>{return{abi:[{constant:!0,inputs:[{name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"pauseService",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"masterToBlock",type:"address"}],name:"blockMaster",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"fairyId",type:"uint256"}],name:"getApproved",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"fairyOriginPrice",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"approved",type:"address"},{name:"fairyId",type:"uint256"}],name:"approve",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"fairyId",type:"uint256"}],name:"getFairyBasicPointsPerLevel",outputs:[{name:"hpPointPerLevel",type:"uint256"},{name:"attackPointPerLevel",type:"uint256"},{name:"defencePointPerLevel",type:"uint256"},{name:"agilityPointPerLevel",type:"uint256"},{name:"dexterityPointPerLevel",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"fairyId",type:"uint256"}],name:"increaseFirePointPerLevel",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"fairyId",type:"uint256"}],name:"levelUpFairy",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"fairyIdToIsBlocked",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newTokenMetadataBaseURI",type:"string"}],name:"changeTokenMetadataBaseURI",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"officialMarket",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"fairyId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"increasePointPricePerPoint",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"fairyOriginId",type:"string"}],name:"getFairyIdsByOriginId",outputs:[{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getMasterIdsByFairyCount",outputs:[{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"fairyId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"getFairyIdsByBirthTime",outputs:[{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getFairyIdsByAttackPointPerLevel",outputs:[{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"fairyId",type:"uint256"}],name:"increaseDarkPointPerLevel",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"servicePaused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getFairyIdsByAgilityPointPerLevel",outputs:[{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"fairyOriginId",type:"string"},{name:"designer",type:"address"},{name:"name",type:"string"},{name:"firePointPerLevel",type:"uint256"},{name:"waterPointPerLevel",type:"uint256"},{name:"windPointPerLevel",type:"uint256"},{name:"earthPointPerLevel",type:"uint256"},{name:"lightPointPerLevel",type:"uint256"},{name:"darkPointPerLevel",type:"uint256"}],name:"birthFairy",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"fairyId",type:"uint256"}],name:"increaseAttackPointPerLevel",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"getFairyIdsByFirePointPerLevel",outputs:[{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"masters",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"fairyId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"fairyIdToMaster",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"masterToIsBlocked",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"company",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"fairyId",type:"uint256"}],name:"getFairyElementPointsPerLevel",outputs:[{name:"firePointPerLevel",type:"uint256"},{name:"waterPointPerLevel",type:"uint256"},{name:"windPointPerLevel",type:"uint256"},{name:"earthPointPerLevel",type:"uint256"},{name:"lightPointPerLevel",type:"uint256"},{name:"darkPointPerLevel",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newFairyOriginPrice",type:"uint256"}],name:"changeFairyOriginPrice",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newCustomLevelUpPrice",type:"uint256"}],name:"changeCustomLevelUpPrice",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"master",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"fairyIdToUnblock",type:"uint256"}],name:"unblockFairy",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"masterToUnlock",type:"address"}],name:"unblockMaster",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getFairyIdsByWindPointPerLevel",outputs:[{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"fairyId",type:"uint256"}],name:"increaseAgilityPointPerLevel",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getFairyIdsByWaterPointPerLevel",outputs:[{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"operator",type:"address"},{name:"isApproved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"NAME",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOfficialMarket",type:"address"}],name:"changeOfficialMarket",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"uint256"}],name:"masterToFairyIds",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"fairyId",type:"uint256"}],name:"getFairyBasicInfo",outputs:[{name:"fairyOriginId",type:"string"},{name:"designer",type:"address"},{name:"name",type:"string"},{name:"birthTime",type:"uint256"},{name:"appendedLevel",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"fairyId",type:"uint256"}],name:"increaseDefencePointPerLevel",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"tokenMetadataBaseURI",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getMasterCount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"fairyId",type:"uint256"},{name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"fairyId",type:"uint256"}],name:"increaseEarthPointPerLevel",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"getFairyIdsByHPPointPerLevel",outputs:[{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getFairyCount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"fairyIdToBlock",type:"uint256"}],name:"blockFairy",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getFairyIdsByAppendedLevel",outputs:[{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getFairyIdsByDarkPointPerLevel",outputs:[{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"fairyId",type:"uint256"}],name:"tokenURI",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"fairyId",type:"uint256"}],name:"increaseLightPointPerLevel",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"fairyId",type:"uint256"}],name:"increaseWindPointPerLevel",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[],name:"resumeService",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"customLevelUpPrice",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getFairyIdsByLightPointPerLevel",outputs:[{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newIncreasePointPricePerPoint",type:"uint256"}],name:"changeIncreasePointPricePerPoint",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"master",type:"address"},{name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"fairyId",type:"uint256"},{name:"newName",type:"string"}],name:"changeFairyName",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newCompany",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getFairyIdsByEarthPointPerLevel",outputs:[{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getFairyIdsByDexterityPointPerLevel",outputs:[{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"fairyId",type:"uint256"}],name:"increaseDexterityPointPerLevel",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"SYMBOL",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getFairyIdsByDefencePointPerLevel",outputs:[{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"fairyId",type:"uint256"}],name:"increaseHPPointPerLevel",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"fairyOriginId",type:"string"}],name:"getFairyCountByOriginId",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"fairyId",type:"uint256"}],name:"increaseWaterPointPerLevel",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"master",type:"address"},{indexed:!1,name:"fairyId",type:"uint256"}],name:"BirthFairy",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"fairyId",type:"uint256"},{indexed:!1,name:"name",type:"string"}],name:"ChangeFairyName",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"fairyId",type:"uint256"}],name:"CustomLevelUp",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"fairyId",type:"uint256"}],name:"IncreaseHPPointPerLevel",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"fairyId",type:"uint256"}],name:"IncreaseAttackPointPerLevel",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"fairyId",type:"uint256"}],name:"IncreaseDefencePointPerLevel",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"fairyId",type:"uint256"}],name:"IncreaseAgilityPointPerLevel",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"fairyId",type:"uint256"}],name:"IncreaseDexterityPointPerLevel",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"fairyId",type:"uint256"}],name:"IncreaseFirePointPerLevel",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"fairyId",type:"uint256"}],name:"IncreaseWaterPointPerLevel",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"fairyId",type:"uint256"}],name:"IncreaseWindPointPerLevel",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"fairyId",type:"uint256"}],name:"IncreaseEarthPointPerLevel",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"fairyId",type:"uint256"}],name:"IncreaseLightPointPerLevel",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"fairyId",type:"uint256"}],name:"IncreaseDarkPointPerLevel",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!0,name:"_tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_approved",type:"address"},{indexed:!0,name:"_tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_operator",type:"address"},{indexed:!1,name:"_approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"oldCompany",type:"address"},{indexed:!1,name:"newCompany",type:"address"}],name:"TransferOwnership",type:"event"},{anonymous:!1,inputs:[],name:"PauseService",type:"event"},{anonymous:!1,inputs:[],name:"ResumeService",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"price",type:"uint256"}],name:"ChangeFairyOriginPrice",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"price",type:"uint256"}],name:"ChangeCustomLevelUpPrice",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"price",type:"uint256"}],name:"ChangeIncreasePointPricePerPoint",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"tokenMetadataBaseURI",type:"string"}],name:"ChangeTokenMetadataBaseURI",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"officialMarket",type:"address"}],name:"ChangeOfficialMarket",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"masterToBlock",type:"address"}],name:"BlockMaster",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"fairyIdToBlock",type:"uint256"}],name:"BlockFairy",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"masterToUnlock",type:"address"}],name:"UnblockMaster",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"fairyIdToUnblock",type:"uint256"}],name:"UnblockFairy",type:"event"}],address:CONFIG.isTestnetMode!==!0?"0xb6d80A462a40B39dA0A0D0F7101ec97F52A9Ef24":"0x1fdc1459d4c296d1e6e4aa231a733e87069f23c9"}}}),EtherFairy.FairyMarketContract=OBJECT({preset:()=>{return Contract2Object},params:()=>{return{abi:[{constant:!0,inputs:[{name:"fairyId",type:"uint256"}],name:"findSaleIdByFairyId",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"marketPaused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"nft",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"company",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"fairyId",type:"uint256"}],name:"checkFairyForSale",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"resumeMarket",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"pauseMarket",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"sales",outputs:[{name:"seller",type:"address"},{name:"fairyId",type:"uint256"},{name:"price",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"fairyId",type:"uint256"}],name:"cancelSale",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getSaleCount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"fairyId",type:"uint256"}],name:"buy",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"newCompany",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"fairyId",type:"uint256"},{name:"price",type:"uint256"}],name:"startSale",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{name:"candidateNFTAddress",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"fairyId",type:"uint256"},{indexed:!1,name:"price",type:"uint256"}],name:"StartSale",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"originSaleId",type:"uint256"},{indexed:!1,name:"newSaleId",type:"uint256"}],name:"ChangeSaleId",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"fairyId",type:"uint256"}],name:"CancelSale",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"fairyId",type:"uint256"},{indexed:!1,name:"price",type:"uint256"}],name:"SuccessSale",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"oldCompany",type:"address"},{indexed:!1,name:"newCompany",type:"address"}],name:"TransferOwnership",type:"event"},{anonymous:!1,inputs:[],name:"PauseMarket",type:"event"},{anonymous:!1,inputs:[],name:"ResumeMarket",type:"event"}],address:CONFIG.isTestnetMode!==!0?"0x33CC87c79615EC984E13af746737839c3966aC88":"0x143389d52410ba2bfeeecb1a502cec58e49df006"}}}),EtherFairy.BattleResultModel=OBJECT({preset:()=>{return EtherFairy.MODEL},params:()=>{return{name:"BattleResult",methodConfig:{create:!1,update:!1,remove:!1}}}}),EtherFairy.DesignerIdentityModel=OBJECT({preset:()=>{return EtherFairy.MODEL},params:()=>{let t={adminPassword:!0,name:{notEmpty:!0},email:{notEmpty:!0,size:{min:5,max:320},email:!0},phoneNumber:{notEmpty:!0}};return{name:"DesignerIdentity",methodConfig:{create:{valid:VALID(t)},update:!1,remove:!1}}}}),EtherFairy.DesignerModel=OBJECT({preset:()=>{return EtherFairy.MODEL},params:()=>{let t={identityCode:{notEmpty:!0,id:!0},username:{notEmpty:!0,size:{min:4,max:20},username:!0},nickname:{notEmpty:!0,size:{min:1,max:20}},email:{notEmpty:!0,size:{min:5,max:320},email:!0},password:{notEmpty:!0,size:{min:4,max:20}},loginCount:{notEmpty:!0,integer:!0},lastLoginTime:{date:!0},isAgreedTerms:{notEmpty:!0,equal:!0},isAgreedPrivacy:{notEmpty:!0,equal:!0},language:{size:{max:5}},roles:{array:!0},profileImageFileId:{id:!0}};return{name:"Designer",initData:{loginCount:0},methodConfig:{create:{valid:VALID(t)},update:{valid:VALID(t),authKey:"id",role:EtherFairy.ROLE.DESIGNER,adminRole:EtherFairy.ROLE.ADMIN},remove:!1},loginValid:VALID({username:t.username,password:t.password,language:t.language})}}}),EtherFairy.FairyModel=OBJECT({preset:()=>{return EtherFairy.MODEL},params:()=>{let t={id:{notEmpty:!0,integer:!0},fairyOriginId:{notEmpty:!0,id:!0},designer:{notEmpty:!0},name:{notEmpty:!0},birthTime:{notEmpty:!0,integer:!0},appendedLevel:{notEmpty:!0,integer:!0},hpPointPerLevel:{notEmpty:!0,integer:!0},attackPointPerLevel:{notEmpty:!0,integer:!0},defencePointPerLevel:{notEmpty:!0,integer:!0},agilityPointPerLevel:{notEmpty:!0,integer:!0},dexterityPointPerLevel:{notEmpty:!0,integer:!0},firePointPerLevel:{notEmpty:!0,integer:!0},waterPointPerLevel:{notEmpty:!0,integer:!0},windPointPerLevel:{notEmpty:!0,integer:!0},earthPointPerLevel:{notEmpty:!0,integer:!0},lightPointPerLevel:{notEmpty:!0,integer:!0},darkPointPerLevel:{notEmpty:!0,integer:!0},rating:{notEmpty:!0,integer:!0},lastEnemyFairyId:{id:!0},winningStreak:{notEmpty:!0,integer:!0},losingStreak:{notEmpty:!0,integer:!0}};return{name:"Fairy",initData:{rating:0,winningStreak:0,losingStreak:0},isNotUsingObjectId:!0,methodConfig:{create:{valid:VALID(t)},update:{valid:VALID(t)},remove:!1}}}}),EtherFairy.FairyOriginModel=OBJECT({preset:()=>{return EtherFairy.MODEL},params:()=>{let t={designerId:{notEmpty:!0,id:!0},name:{notEmpty:!0,size:{min:1,max:20}},imageFileId:{notEmpty:!0,id:!0},firePointPerLevel:{notEmpty:!0,integer:!0},waterPointPerLevel:{notEmpty:!0,integer:!0},windPointPerLevel:{notEmpty:!0,integer:!0},earthPointPerLevel:{notEmpty:!0,integer:!0},lightPointPerLevel:{notEmpty:!0,integer:!0},darkPointPerLevel:{notEmpty:!0,integer:!0}};return{name:"FairyOrigin",methodConfig:{create:{valid:VALID(t),authKey:"designerId"},update:{valid:VALID(t),authKey:"designerId"},remove:!1}}}}),EtherFairy.MasterModel=OBJECT({preset:()=>{return EtherFairy.MODEL},params:()=>{let t={id:{notEmpty:!0,size:42},nickname:{notEmpty:!0,size:{min:1,max:20}},isAgreedTerms:{notEmpty:!0,equal:!0},isAgreedPrivacy:{notEmpty:!0,equal:!0},language:{size:{max:5}},profileImageFileId:{id:!0},fairyCount:{notEmpty:!0,integer:!0},totalFairyLevel:{notEmpty:!0,integer:!0},totalFairyRating:{notEmpty:!0,integer:!0}};return{name:"Master",isNotUsingObjectId:!0,initData:{fairyCount:0,totalFairyLevel:0,totalFairyRating:0},methodConfig:{create:{valid:VALID(t)},update:{valid:VALID(t)},remove:!1}}}}),EtherFairy("ROLE").ADMIN="Admin",EtherFairy("ROLE").DESIGNER="Designer";EtherFairy.MAIN=METHOD({run:t=>{ADD_FONT({name:"Nanum Myeongjo",style:"normal",weight:400,woff2:EtherFairy.R("font/NanumMyeongjo-Regular.woff2"),woff:EtherFairy.R("font/NanumMyeongjo-Regular.woff"),ttf:EtherFairy.R("font/NanumMyeongjo-Regular.ttf")}),BODY.addStyle({cursor:"url("+EtherFairy.R("cursor.png")+") 1 2, auto",overflowY:"scroll"});let e=document.createElement("style");e.type="text/css",e.innerHTML="input[type=\"range\"]::-webkit-slider-thumb { width:30px; height:30px; } * { font-family:'Nanum Myeongjo'; -webkit-tap-highlight-color:transparent; } input, textarea { user-select:auto; -webkit-user-select:auto; }",document.getElementsByTagName("head")[0].appendChild(e),DIV().getEl().id="fb-root",function(t,e,r){var i,n=t.getElementsByTagName(e)[0];t.getElementById(r)||(i=t.createElement(e),i.id=r,i.src="https://connect.facebook.net/ko_KR/sdk.js#xfbml=1&version=v3.1&appId=1614859782072527&autoLogAppEvents=1",n.parentNode.insertBefore(i,n))}(document,"script","facebook-jssdk"),MSG.loadCSV(EtherFairy.R("text.csv"),()=>{EtherFairy.MATCH_VIEW({uri:"**",target:EtherFairy.Layout}),EtherFairy.MATCH_VIEW({uri:"",target:EtherFairy.Home}),EtherFairy.MATCH_VIEW({uri:"oldintro",target:EtherFairy.OldIntro}),EtherFairy.MATCH_VIEW({uri:"start",target:EtherFairy.Start}),EtherFairy.MATCH_VIEW({uri:"ranking",target:EtherFairy.Ranking}),EtherFairy.MATCH_VIEW({uri:"fairy/{fairyId}",target:EtherFairy.Fairy}),EtherFairy.MATCH_VIEW({uri:"master/join",target:EtherFairy.Master.Join}),EtherFairy.MATCH_VIEW({uri:"master",target:EtherFairy.Master.Home}),EtherFairy.MATCH_VIEW({uri:"master/buyfairy",target:EtherFairy.Master.BuyFairy}),EtherFairy.MATCH_VIEW({uri:"master/tradefairy",target:EtherFairy.Master.TradeFairy}),EtherFairy.MATCH_VIEW({uri:"master/starttradefairy",target:EtherFairy.Master.StartTradeFairy}),EtherFairy.MATCH_VIEW({uri:"master/ranking",target:EtherFairy.Master.Ranking}),EtherFairy.MATCH_VIEW({uri:"master/{masterAddress}",excludeURI:["master/join","master/buyfairy","master/tradefairy","master/starttradefairy","master/ranking"],target:EtherFairy.Master.Info}),EtherFairy.MATCH_VIEW({uri:"designer/start",target:EtherFairy.Designer.Start}),EtherFairy.MATCH_VIEW({uri:"designer/login",target:EtherFairy.Designer.Login}),EtherFairy.MATCH_VIEW({uri:"designer/join/{identityCode}",target:EtherFairy.Designer.Join}),EtherFairy.MATCH_VIEW({uri:"designer",target:EtherFairy.Designer.Home}),EtherFairy.MATCH_VIEW({uri:"designer/designfairy",target:EtherFairy.Designer.DesignFairy}),EtherFairy.MATCH_VIEW({uri:"designer/managefairyorigin",target:EtherFairy.Designer.ManageFairyOrigin}),EtherFairy.MATCH_VIEW({uri:"fairyorigin/{fairyOriginId}",target:EtherFairy.FairyOrigin}),EtherFairy.MATCH_VIEW({uri:"company/manageservice",target:EtherFairy.Company.ManageService}),EtherFairy.MATCH_VIEW({uri:"company/createdesigneridentity",target:EtherFairy.Company.CreateDesignerIdentity}),EtherFairy.MATCH_VIEW({uri:"company/designeridentity",target:EtherFairy.Company.DesignerIdentity})})}}),EtherFairy.TextShadow=METHOD({run:t=>{return"1px 1px 0 "+t+",-1px 1px 0 "+t+",1px -1px 0 "+t+",-1px -1px 0 "+t+",0px 1px 0 "+t+",0px -1px 0 "+t+",-1px 0px 0 "+t+",1px 0px 0 "+t+",2px 2px 0 "+t+",-2px 2px 0 "+t+",2px -2px 0 "+t+",-2px -2px 0 "+t+",0px 2px 0 "+t+",0px -2px 0 "+t+",-2px 0px 0 "+t+",2px 0px 0 "+t+",1px 2px 0 "+t+",-1px 2px 0 "+t+",1px -2px 0 "+t+",-1px -2px 0 "+t+",2px 1px 0 "+t+",-2px 1px 0 "+t+",2px -1px 0 "+t+",-2px -1px 0 "+t}}),EtherFairy.WalletManager=OBJECT({init:(t,e)=>{let r;"undefined"!=typeof global.web3&&(global.web3=new Web3(global.web3.currentProvider),r=!0);let i=e.checkIsEnable=(()=>{return r});e.checkIsLocked=(t=>{i()!==!0?console.error("지갑을 사용할 수 없습니다."):web3.eth.getAccounts((e,r)=>{t(0===r.length)})}),e.getWalletAddress=(t=>{i()!==!0?console.error("지갑을 사용할 수 없습니다."):web3.eth.getAccounts((e,r)=>{t(r[0])})})}}),Yogurt.Theme={wrapperStyle:{backgroundColor:"#1f2328",color:"#fff",fontSize:16},menuLayoutMenuWidth:200,menuLayoutHideMenuWinWidth:1200,menuLayoutMenuBackgroundColor:"#171a1d",buttonColor:"#336600",buttonTitleColor:"#fff5cb",buttonMouseoverColor:"#509122",buttonMouseoverTitleColor:"#fff5cb",inputBorderColor:"#999",toolbarBackground:void 0,toolbarBackgroundImage:void 0,toolbarColor:"#171a1d",toolbarTextColor:"#fff",bottomBarColor:"#171a1d",bottomBarTextColor:"#999",bottomBarHeight:70},EtherFairy.CreateContractErrorPopup=METHOD({run:t=>{Yogurt.Alert({msg:t})}}),EtherFairy.CreateInstallProviderPopup=METHOD({run:()=>{Yogurt.Alert({msg:MSG("PLEASE_INSTALL_METAMASK")})}}),EtherFairy.FairyCard=CLASS({preset:()=>{return UUI.PANEL},params:()=>{return{contentStyle:{position:"relative",width:360,height:600,backgroundImage:EtherFairy.R("cardframe/1.png"),boxShadow:"0 0 8px rgba(0, 0, 0, 0.8)"}}},init:(t,e,r)=>{let i=r.fairyId;e.append(UUI.V_CENTER({style:{position:"absolute",left:10,top:43,width:339,height:399,textAlign:"center"},c:IMG({src:EtherFairy.R("loading.svg")})}));let n={};PARALLEL([t=>{EtherFairy.EtherFairyContract.getFairyBasicInfo(i,(e,r,i,o,a)=>{n.fairyOriginId=e,n.designer=r,n.name=i,n.birthTime=o,n.appendedLevel=a,t()})},t=>{EtherFairy.EtherFairyContract.getFairyBasicPointsPerLevel(i,(e,r,i,o,a)=>{n.hpPointPerLevel=e,n.attackPointPerLevel=r,n.defencePointPerLevel=i,n.agilityPointPerLevel=o,n.dexterityPointPerLevel=a,t()})},t=>{EtherFairy.EtherFairyContract.getFairyElementPointsPerLevel(i,(e,r,i,o,a,l)=>{n.firePointPerLevel=e,n.waterPointPerLevel=r,n.windPointPerLevel=i,n.earthPointPerLevel=o,n.lightPointPerLevel=a,n.darkPointPerLevel=l,t()})},()=>{let t=EtherFairy.CalculateManager.calculateEXP(n.birthTime),r=EtherFairy.CalculateManager.calculateLevel(t)+n.appendedLevel;NEXT([t=>{EtherFairy.FairyOriginModel.get(n.fairyOriginId,{notExists:()=>{e.empty(),t()},success:r=>{e.empty(),t(r)}})},()=>{return t=>{CALENDAR(new Date(1e3*n.birthTime));e.append(DIV({style:{position:"absolute",left:10,top:43,width:339,height:399,borderRadius:6,backgroundImage:void 0===t?EtherFairy.R("notfound.png"):EtherFairy.RF(t.imageFileId),backgroundSize:"cover",backgroundPosition:"center center"}})),e.append(DIV({style:{position:"absolute",left:0,top:10,width:360,textAlign:"center",color:"#fff5ef",textShadow:EtherFairy.TextBorderShadow("#1d0e08"),fontSize:20},c:n.name})),e.append(DIV({style:{position:"absolute",left:0,bottom:8,width:360,textAlign:"center",color:"#fff5ef",textShadow:EtherFairy.TextBorderShadow("#1d0e08")},c:"["+(void 0===t?MSG("FAIRY_ORIGIN_NOT_FOUND"):t.name)+"]"})),e.append(DIV({style:{position:"absolute",left:10,bottom:135,color:"#fff5ef",textShadow:EtherFairy.TextBorderShadow("#1d0e08")},c:"Lv. "+r})),e.append(DIV({style:{position:"absolute",right:10,bottom:135,color:"#fff5ef",textShadow:EtherFairy.TextBorderShadow("#1d0e08")},c:"HP. "+EtherFairy.CalculateManager.calculateHP(n.hpPointPerLevel*r)})),e.append(DIV({style:{position:"absolute",left:10,bottom:98,width:170,color:"#66400a",textShadow:EtherFairy.TextBorderShadow("#fff"),textAlign:"center",fontWeight:"bold"},c:n.attackPointPerLevel*r})),e.append(DIV({style:{position:"absolute",right:10,bottom:98,width:170,color:"#66400a",textShadow:EtherFairy.TextBorderShadow("#fff"),textAlign:"center",fontWeight:"bold"},c:n.defencePointPerLevel*r})),e.append(DIV({style:{position:"absolute",left:10,bottom:50,width:170,color:"#66400a",textShadow:EtherFairy.TextBorderShadow("#fff"),textAlign:"center",fontWeight:"bold"},c:n.agilityPointPerLevel*r})),e.append(DIV({style:{position:"absolute",right:10,bottom:50,width:170,color:"#66400a",textShadow:EtherFairy.TextBorderShadow("#fff"),textAlign:"center",fontWeight:"bold"},c:n.dexterityPointPerLevel*r}));let o=5;n.firePointPerLevel>0&&(e.append(UUI.V_CENTER({style:{position:"absolute",right:5,top:o,width:52,height:52,backgroundImage:EtherFairy.R("element/fire.png"),color:"#fff5ef",textShadow:EtherFairy.TextBorderShadow("#1d0e08"),textAlign:"center",fontSize:20},c:n.firePointPerLevel*r})),o+=53),n.waterPointPerLevel>0&&(e.append(UUI.V_CENTER({style:{position:"absolute",right:5,top:o,width:52,height:52,backgroundImage:EtherFairy.R("element/water.png"),color:"#fff5ef",textShadow:EtherFairy.TextBorderShadow("#1d0e08"),textAlign:"center",fontSize:20},c:n.waterPointPerLevel*r})),o+=53),n.windPointPerLevel>0&&(e.append(UUI.V_CENTER({style:{position:"absolute",right:5,top:o,width:52,height:52,backgroundImage:EtherFairy.R("element/wind.png"),color:"#fff5ef",textShadow:EtherFairy.TextBorderShadow("#1d0e08"),textAlign:"center",fontSize:20},c:n.windPointPerLevel*r})),o+=53),n.earthPointPerLevel>0&&(e.append(UUI.V_CENTER({style:{position:"absolute",right:5,top:o,width:52,height:52,backgroundImage:EtherFairy.R("element/earth.png"),color:"#fff5ef",textShadow:EtherFairy.TextBorderShadow("#1d0e08"),textAlign:"center",fontSize:20},c:n.earthPointPerLevel*r})),o+=53),n.lightPointPerLevel>0&&(e.append(UUI.V_CENTER({style:{position:"absolute",right:5,top:o,width:52,height:52,backgroundImage:EtherFairy.R("element/light.png"),color:"#fff5ef",textShadow:EtherFairy.TextBorderShadow("#1d0e08"),textAlign:"center",fontSize:20},c:n.lightPointPerLevel*r})),o+=53),n.darkPointPerLevel>0&&(e.append(UUI.V_CENTER({style:{position:"absolute",right:5,top:o,width:52,height:52,backgroundImage:EtherFairy.R("element/dark.png"),color:"#fff5ef",textShadow:EtherFairy.TextBorderShadow("#1d0e08"),textAlign:"center",fontSize:20},c:n.darkPointPerLevel*r})),o+=53),EtherFairy.FairyModel.get(i,t=>{e.append(DIV({style:{position:"absolute",left:"50%",bottom:130,marginLeft:-33},c:EtherFairy.RankMark(t.rating)}))})}}])}])}}),EtherFairy.FairyOriginCard=CLASS({preset:()=>{return DIV},params:()=>{return{style:{position:"relative",width:360,height:550,backgroundImage:EtherFairy.R("origincard.png"),boxShadow:"0 0 8px rgba(0, 0, 0, 0.8)",onDisplayResize:(t,e)=>{return t<1300?{transform:"scale(0.5)"}:{transform:void 0}}}}},init:(t,e,r)=>{let i=r.fairyOriginData;e.append(DIV({style:{position:"absolute",left:10,top:43,width:339,height:399,borderRadius:6,backgroundImage:EtherFairy.RF(i.imageFileId),backgroundSize:"cover",backgroundPosition:"center center"}})),e.append(DIV({style:{position:"absolute",left:16,bottom:52},c:[UUI.V_CENTER({style:{flt:"left",width:52,height:52,backgroundImage:EtherFairy.R("element/fire.png"),color:"#fff5ef",textShadow:EtherFairy.TextBorderShadow("#1d0e08"),textAlign:"center",fontSize:20},c:i.firePointPerLevel}),UUI.V_CENTER({style:{marginLeft:3,flt:"left",width:52,height:52,backgroundImage:EtherFairy.R("element/water.png"),color:"#fff5ef",textShadow:EtherFairy.TextBorderShadow("#1d0e08"),textAlign:"center",fontSize:20},c:i.waterPointPerLevel}),UUI.V_CENTER({style:{marginLeft:3,flt:"left",width:52,height:52,backgroundImage:EtherFairy.R("element/wind.png"),color:"#fff5ef",textShadow:EtherFairy.TextBorderShadow("#1d0e08"),textAlign:"center",fontSize:20},c:i.windPointPerLevel}),UUI.V_CENTER({style:{marginLeft:3,flt:"left",width:52,height:52,backgroundImage:EtherFairy.R("element/earth.png"),color:"#fff5ef",textShadow:EtherFairy.TextBorderShadow("#1d0e08"),textAlign:"center",fontSize:20},c:i.earthPointPerLevel}),UUI.V_CENTER({style:{marginLeft:3,flt:"left",width:52,height:52,backgroundImage:EtherFairy.R("element/light.png"),color:"#fff5ef",textShadow:EtherFairy.TextBorderShadow("#1d0e08"),textAlign:"center",fontSize:20},c:i.lightPointPerLevel}),UUI.V_CENTER({style:{marginLeft:3,flt:"left",width:52,height:52,backgroundImage:EtherFairy.R("element/dark.png"),color:"#fff5ef",textShadow:EtherFairy.TextBorderShadow("#1d0e08"),textAlign:"center",fontSize:20},c:i.darkPointPerLevel}),CLEAR_BOTH()]})),e.append(DIV({style:{position:"absolute",left:10,bottom:10,width:326,padding:7,textAlign:"center",color:"#fff2ec",textShadow:EtherFairy.TextBorderShadow("#180b00")},c:"["+i.name+"]"}))}}),EtherFairy.RankMark=CLASS({preset:()=>{return DIV},params:()=>{return{style:{width:66,height:66,textAlign:"center"}}},init:(t,e,r)=>{let i=INTEGER(r/300)+1;i>6&&(i=6);let n=INTEGER(r%300/100)+1;EtherFairy.FairyModel.count({filter:{rating:{$gt:r}}},t=>{0===t?i=10:t<10?i=9:t<100?i=8:t<1e3&&(i=7),e.addStyle({backgroundImage:EtherFairy.R("rank/"+i+".png")}),e.append(i>6?"":IMG({style:{marginTop:5},src:EtherFairy.R("rank/"+RUN(()=>{let t="";return REPEAT(n,()=>{t+="i"}),t})+".png")}))})}}),EtherFairy.RunningProcessItem=CLASS({preset:()=>{return DIV},init:(t,e,r)=>{}}),OVERRIDE(EtherFairy.DesignerModel,t=>{EtherFairy.DesignerModel=OBJECT({preset:()=>{return t},init:(t,e,r)=>{let i,n=r.loginValid,o=e.getRoom(),a=EtherFairy.STORE("rememberMeStore");e.setSignedDesignerData=(t=>{i=t}),e.login=((t,e)=>{let r,l;CHECK_IS_DATA(e)!==!0?l=e:(r=e.notValid,l=e.success),t.countryCode=INFO.getLang().substring(0,2);let c=n.checkAndWash(t);c.checkHasError()===!0?void 0!==r&&r(c.getErrors()):o.send({methodName:"login",data:t},t=>{let e=t.validErrors,n=t.savedData,o=t.rememberMeKey;void 0!==e?void 0!==r&&r(e):void 0!==n&&(i=n,a.save({name:"key",value:o}),l(n))})}),e.logout=(()=>{void 0!==a.get("key")&&o.send({methodName:"logout",data:a.get("key")},()=>{a.remove("key"),i=void 0,EtherFairy.REFRESH("")})}),e.checkSigned=((t,e)=>{let r,n;void 0===e&&(e=t,t=void 0),CHECK_IS_DATA(e)!==!0?n=e:(r=e.fail,n=e.success),void 0!==i?n(i):void 0!==a.get("key")?o.send({methodName:"resign",data:a.get("key")},e=>{void 0===e?void 0!==t?DELAY(()=>{EtherFairy.GO({uri:"login",data:{nextURI:t}})}):void 0!==r&&r():n(i=e)}):void 0!==t?DELAY(()=>{EtherFairy.GO({uri:"login",data:{nextURI:t}})}):void 0!==r&&r()})}})}),EtherFairy.Fairy=CLASS({preset:()=>{return VIEW},init:(t,e)=>{t.on("paramsChange",t=>{let e,r,i,n,o=INTEGER(t.fairyId);EtherFairy.Layout.setContent(DIV({style:{padding:"50px 0"},c:[DIV({style:{position:"relative",margin:"auto",width:882,height:684,backgroundImage:EtherFairy.R("fairyinfo/background.png")},c:[e=H1({style:{paddingTop:13,fontSize:28,fontWeight:"bold",color:"#ffde5c",textShadow:EtherFairy.TextBorderShadow("#160b00"),textAlign:"center"}}),EtherFairy.FairyCard({style:{position:"absolute",left:50,top:70},fairyId:o}),r=DIV({style:{position:"absolute",width:390,paddingRight:20,right:27,top:70}})]}),i=DIV({style:{margin:"auto",width:882}}),DIV({style:{margin:"auto",width:882},c:n=DIV({style:{marginLeft:2.4,width:876,height:95,backgroundImage:EtherFairy.R("fairyinfo/bottom.png")}})})]}));let a=()=>{console.log("test")};if(EtherFairy.WalletManager.checkIsEnable()===!0){let t={};PARALLEL([e=>{EtherFairy.EtherFairyContract.getFairyBasicInfo(o,(r,i,n,o,a)=>{t.fairyOriginId=r,t.designer=i,t.name=n,t.birthTime=o,t.appendedLevel=a,e()})},e=>{EtherFairy.EtherFairyContract.getFairyBasicPointsPerLevel(o,(r,i,n,o,a)=>{t.hpPointPerLevel=r,t.attackPointPerLevel=i,t.defencePointPerLevel=n,t.agilityPointPerLevel=o,t.dexterityPointPerLevel=a,e()})},e=>{EtherFairy.EtherFairyContract.getFairyElementPointsPerLevel(o,(r,i,n,o,a,l)=>{t.firePointPerLevel=r,t.waterPointPerLevel=i,t.windPointPerLevel=n,t.earthPointPerLevel=o,t.lightPointPerLevel=a,t.darkPointPerLevel=l,e()})},()=>{e.append(t.name),EtherFairy.EtherFairyContract.tokenURI(o,t=>{console.log(t)}),EtherFairy.FairyMarketContract.checkFairyForSale(o,t=>{t===!0&&EtherFairy.FairyMarketContract.findSaleIdByFairyId(o,t=>{EtherFairy.FairyMarketContract.getSaleInfo(t,(t,e,i)=>{EtherFairy.WalletManager.getWalletAddress(n=>{n===t?r.append(DIV({c:A({c:MSG("CANCEL_TRADE"),on:{tap:()=>{Yogurt.Confirm({msg:MSG("REALLY_CANCEL_PROMPT")},()=>{EtherFairy.FairyMarketContract.cancelSale(e,()=>{EtherFairy.REFRESH("fairy/"+e)})})}}})})):r.append(DIV({c:A({c:MSG("SIDEBAR_TRADE_FAIRY_BUTTON"),on:{tap:()=>{Yogurt.Confirm({msg:MSG("REALLY_BUY_TRADE_FAIRY_PROMPT")},()=>{EtherFairy.FairyMarketContract.buy({fairyId:e,ether:i},()=>{EtherFairy.REFRESH("fairy/"+e)})})}}})}))})})})}),EtherFairy.EtherFairyContract.ownerOf(o,e=>{EtherFairy.WalletManager.getWalletAddress(i=>{i===e?(r.append(UUI.V_CENTER({style:{position:"absolute",top:-58,right:0,width:113,height:34,textShadow:EtherFairy.TextBorderShadow("#160b00"),backgroundImage:EtherFairy.R("fairyinfo/changename.png"),textAlign:"center",cursor:"pointer"},c:MSG("CHANGE_NAME"),on:{tap:()=>{Yogurt.Prompt(MSG("CHANGE_NAME_PROMPT"),t=>{EtherFairy.EtherFairyContract.changeFairyName({fairyId:o,newName:t},()=>{EtherFairy.REFRESH("fairy/"+o)})})}}})),r.append(DIV({style:{marginTop:14},c:[P({style:{flt:"left",marginTop:6,textShadow:EtherFairy.TextBorderShadow("#160b00")},c:MSG("CUSTOM_LEVEL_UP")}),UUI.BUTTON_H({style:{flt:"right",color:"#fff5cb",textShadow:EtherFairy.TextBorderShadow("#160b00")},icon:IMG({src:EtherFairy.R("fairyinfo/plus.png")}),spacing:20,title:"[0.01 Ether]",on:{tap:()=>{EtherFairy.EtherFairyContract.levelUpFairy({fairyId:o,ether:.01},()=>{EtherFairy.REFRESH("fairy/"+o)})}}}),P({style:{flt:"right",marginRight:15,marginTop:6,color:"#ffde5c",textShadow:EtherFairy.TextBorderShadow("#160b00")},c:t.appendedLevel}),CLEAR_BOTH()]})),r.append(DIV({style:{marginTop:14},c:[P({style:{flt:"left",marginTop:6,textShadow:EtherFairy.TextBorderShadow("#160b00")},c:MSG("HP_POINT_PER_LEVEL")}),UUI.BUTTON_H({style:{flt:"right",color:"#fff5cb",textShadow:EtherFairy.TextBorderShadow("#160b00")},icon:IMG({src:EtherFairy.R("fairyinfo/plus.png")}),spacing:20,title:"[0.01 Ether]",on:{tap:()=>{EtherFairy.EtherFairyContract.increaseHPPointPerLevel({fairyId:o,ether:.01*t.hpPointPerLevel},()=>{EtherFairy.REFRESH("fairy/"+o)})}}}),P({style:{flt:"right",marginRight:15,marginTop:6,color:"#ffde5c",textShadow:EtherFairy.TextBorderShadow("#160b00")},c:t.hpPointPerLevel}),CLEAR_BOTH()]})),r.append(DIV({style:{marginTop:14},c:[P({style:{flt:"left",marginTop:6,textShadow:EtherFairy.TextBorderShadow("#160b00")},c:MSG("ATTACK_POINT_PER_LEVEL")}),UUI.BUTTON_H({style:{flt:"right",color:"#fff5cb",textShadow:EtherFairy.TextBorderShadow("#160b00")},icon:IMG({src:EtherFairy.R("fairyinfo/plus.png")}),spacing:20,title:"[0.01 Ether]",on:{tap:()=>{EtherFairy.EtherFairyContract.increaseAttackPointPerLevel({fairyId:o,ether:.01*t.attackPointPerLevel},()=>{EtherFairy.REFRESH("fairy/"+o)})}}}),P({style:{flt:"right",marginRight:15,marginTop:6,color:"#ffde5c",textShadow:EtherFairy.TextBorderShadow("#160b00")},c:t.attackPointPerLevel}),CLEAR_BOTH()]})),r.append(DIV({style:{marginTop:14},c:[P({style:{flt:"left",marginTop:6,textShadow:EtherFairy.TextBorderShadow("#160b00")},c:MSG("DEFENCE_POINT_PER_LEVEL")}),UUI.BUTTON_H({style:{flt:"right",color:"#fff5cb",textShadow:EtherFairy.TextBorderShadow("#160b00")},icon:IMG({src:EtherFairy.R("fairyinfo/plus.png")}),spacing:20,title:"[0.01 Ether]",on:{tap:()=>{EtherFairy.EtherFairyContract.increaseDefencePointPerLevel({fairyId:o,ether:.01*t.defencePointPerLevel},()=>{EtherFairy.REFRESH("fairy/"+o)})}}}),P({style:{flt:"right",marginRight:15,marginTop:6,color:"#ffde5c",textShadow:EtherFairy.TextBorderShadow("#160b00")},c:t.defencePointPerLevel}),CLEAR_BOTH()]})),r.append(DIV({style:{marginTop:14},c:[P({style:{flt:"left",marginTop:6,textShadow:EtherFairy.TextBorderShadow("#160b00")},c:MSG("AGILITY_POINT_PER_LEVEL")}),UUI.BUTTON_H({style:{flt:"right",color:"#fff5cb",textShadow:EtherFairy.TextBorderShadow("#160b00")},icon:IMG({src:EtherFairy.R("fairyinfo/plus.png")}),spacing:20,title:"[0.01 Ether]",on:{tap:()=>{EtherFairy.EtherFairyContract.increaseAgilityPointPerLevel({fairyId:o,ether:.01*t.agilityPointPerLevel},()=>{EtherFairy.REFRESH("fairy/"+o)})}}}),P({style:{flt:"right",marginRight:15,marginTop:6,color:"#ffde5c",textShadow:EtherFairy.TextBorderShadow("#160b00")},c:t.agilityPointPerLevel}),CLEAR_BOTH()]})),r.append(DIV({style:{marginTop:14},c:[P({style:{flt:"left",marginTop:6,textShadow:EtherFairy.TextBorderShadow("#160b00")},c:MSG("DEXTERITY_POINT_PER_LEVEL")}),UUI.BUTTON_H({style:{flt:"right",color:"#fff5cb",textShadow:EtherFairy.TextBorderShadow("#160b00")},icon:IMG({src:EtherFairy.R("fairyinfo/plus.png")}),spacing:20,title:"[0.01 Ether]",on:{tap:()=>{EtherFairy.EtherFairyContract.increaseDexterityPointPerLevel({fairyId:o,ether:.01*t.dexterityPointPerLevel},()=>{EtherFairy.REFRESH("fairy/"+o)})}}}),P({style:{flt:"right",marginRight:15,marginTop:6,color:"#ffde5c",textShadow:EtherFairy.TextBorderShadow("#160b00")},c:t.dexterityPointPerLevel}),CLEAR_BOTH()]})),r.append(DIV({style:{marginTop:14},c:[P({style:{flt:"left",marginTop:6,textShadow:EtherFairy.TextBorderShadow("#160b00")},c:MSG("FIRE_POINT_PER_LEVEL")}),UUI.BUTTON_H({style:{flt:"right",color:"#fff5cb",textShadow:EtherFairy.TextBorderShadow("#160b00")},icon:IMG({src:EtherFairy.R("fairyinfo/plus.png")}),spacing:20,title:"[0.01 Ether]",on:{tap:()=>{EtherFairy.EtherFairyContract.increaseFirePointPerLevel({fairyId:o,ether:.01*t.firePointPerLevel},()=>{EtherFairy.REFRESH("fairy/"+o)})}}}),P({style:{flt:"right",marginRight:15,marginTop:6,color:"#ffde5c",textShadow:EtherFairy.TextBorderShadow("#160b00")},c:t.firePointPerLevel}),CLEAR_BOTH()]})),r.append(DIV({style:{marginTop:14},c:[P({style:{flt:"left",marginTop:6,textShadow:EtherFairy.TextBorderShadow("#160b00")},c:MSG("WATER_POINT_PER_LEVEL")}),UUI.BUTTON_H({style:{flt:"right",color:"#fff5cb",textShadow:EtherFairy.TextBorderShadow("#160b00")},icon:IMG({src:EtherFairy.R("fairyinfo/plus.png")}),spacing:20,title:"[0.01 Ether]",on:{tap:()=>{EtherFairy.EtherFairyContract.increaseWaterPointPerLevel({fairyId:o,ether:.01*t.waterPointPerLevel},()=>{EtherFairy.REFRESH("fairy/"+o)})}}}),P({style:{flt:"right",marginRight:15,marginTop:6,color:"#ffde5c",textShadow:EtherFairy.TextBorderShadow("#160b00")},c:t.waterPointPerLevel}),CLEAR_BOTH()]})),r.append(DIV({style:{marginTop:14},c:[P({style:{flt:"left",marginTop:6,textShadow:EtherFairy.TextBorderShadow("#160b00")},c:MSG("WIND_POINT_PER_LEVEL")}),UUI.BUTTON_H({style:{flt:"right",color:"#fff5cb",textShadow:EtherFairy.TextBorderShadow("#160b00")},icon:IMG({src:EtherFairy.R("fairyinfo/plus.png")}),spacing:20,title:"[0.01 Ether]",on:{tap:()=>{EtherFairy.EtherFairyContract.increaseWindPointPerLevel({fairyId:o,ether:.01*t.windPointPerLevel},()=>{EtherFairy.REFRESH("fairy/"+o)})}}}),P({style:{flt:"right",marginRight:15,marginTop:6,color:"#ffde5c",textShadow:EtherFairy.TextBorderShadow("#160b00")},c:t.windPointPerLevel}),CLEAR_BOTH()]})),r.append(DIV({style:{marginTop:14},c:[P({style:{flt:"left",marginTop:6,textShadow:EtherFairy.TextBorderShadow("#160b00")},c:MSG("EARTH_POINT_PER_LEVEL")}),UUI.BUTTON_H({style:{flt:"right",color:"#fff5cb",textShadow:EtherFairy.TextBorderShadow("#160b00")},icon:IMG({src:EtherFairy.R("fairyinfo/plus.png")}),spacing:20,title:"[0.01 Ether]",on:{tap:()=>{EtherFairy.EtherFairyContract.increaseEarthPointPerLevel({fairyId:o,ether:.01*t.earthPointPerLevel},()=>{EtherFairy.REFRESH("fairy/"+o)})}}}),P({style:{flt:"right",marginRight:15,marginTop:6,color:"#ffde5c",textShadow:EtherFairy.TextBorderShadow("#160b00")},c:t.earthPointPerLevel}),CLEAR_BOTH()]})),r.append(DIV({style:{marginTop:14},c:[P({style:{flt:"left",marginTop:6,textShadow:EtherFairy.TextBorderShadow("#160b00")},c:MSG("LIGHT_POINT_PER_LEVEL")}),UUI.BUTTON_H({style:{flt:"right",color:"#fff5cb",textShadow:EtherFairy.TextBorderShadow("#160b00")},icon:IMG({src:EtherFairy.R("fairyinfo/plus.png")}),spacing:20,title:"[0.01 Ether]",on:{tap:()=>{EtherFairy.EtherFairyContract.increaseLightPointPerLevel({fairyId:o,ether:.01*t.lightPointPerLevel},()=>{EtherFairy.REFRESH("fairy/"+o)})}}}),P({style:{flt:"right",marginRight:15,marginTop:6,color:"#ffde5c",textShadow:EtherFairy.TextBorderShadow("#160b00")},c:t.lightPointPerLevel}),CLEAR_BOTH()]})),r.append(DIV({style:{marginTop:14},c:[P({style:{flt:"left",marginTop:6,textShadow:EtherFairy.TextBorderShadow("#160b00")},c:MSG("DARK_POINT_PER_LEVEL")}),UUI.BUTTON_H({style:{flt:"right",color:"#fff5cb",textShadow:EtherFairy.TextBorderShadow("#160b00")},icon:IMG({src:EtherFairy.R("fairyinfo/plus.png")}),spacing:20,title:"[0.01 Ether]",on:{tap:()=>{EtherFairy.EtherFairyContract.increaseDarkPointPerLevel({fairyId:o,ether:.01*t.darkPointPerLevel},()=>{EtherFairy.REFRESH("fairy/"+o)})}}}),P({style:{flt:"right",marginRight:15,marginTop:6,color:"#ffde5c",textShadow:EtherFairy.TextBorderShadow("#160b00")},c:t.darkPointPerLevel}),CLEAR_BOTH()]}))):a()})})}])}else a();let l=0,c=10,d=()=>{EtherFairy.BattleResultModel.find({filter:{$or:[{fairyId:o},{enemyId:o}]},start:l,count:c},t=>{i.empty(),EACH(t,t=>{let e,r,n,a=t.fairyId===o&&t.isWin===!0||t.fairyId!==o&&t.isWin!==!0,l=t.fairyId===o?t.fairyRatingChange:t.enemyRatingChange;i.append(e=DIV({style:{marginLeft:2.4,color:"#000",width:876,height:211,backgroundImage:EtherFairy.R(a===!0?"fairyinfo/winpanel.png":"fairyinfo/losepanel.png")},c:[r=DIV({style:{width:"40%",flt:"left"}}),UUI.V_CENTER({style:{position:"absolute",left:"50%",marginLeft:-58,width:116,height:211,textAlign:"center"},c:[IMG({src:EtherFairy.R(a===!0?"fairyinfo/win.png":"fairyinfo/lose.png")}),IMG({style:{marginTop:20},src:EtherFairy.R("fairyinfo/sword.png"),transform:t.fairyId===o?void 0:"scaleX(-1)"}),DIV({style:{marginTop:20,color:l>=0?"#00FFFF":"#FF0000",textShadow:EtherFairy.TextBorderShadow("#160b00")},c:l>=0?"+"+l:l})]}),n=DIV({style:{width:"40%",flt:"right"}}),CLEAR_BOTH()]})),EtherFairy.FairyModel.get(o,e=>{r.append(UUI.V_CENTER({style:{marginLeft:120,flt:"left",width:280,height:211,position:"relative",fontWeight:"bold",textShadow:EtherFairy.TextBorderShadow("#160b00")},c:[DIV({style:{flt:"left"},c:EtherFairy.RankMark(e.rating)}),DIV({style:{marginTop:5,marginLeft:20,flt:"left",color:"#fff5cb"},c:[A({style:{fontSize:25,color:"#fff"},c:e.name,on:{tap:()=>{EtherFairy.GO("fairy/"+e.id)}}}),DIV({c:e.rating})]}),CLEAR_BOTH(),DIV({style:{marginTop:15,marginLeft:30,width:80,flt:"left",color:"#ffde5c"},c:"Lv."}),DIV({style:{marginTop:15,flt:"left",color:"#fff5cb"},c:t.fairyId===o?t.fairyLevel:t.enemyLevel}),CLEAR_BOTH(),DIV({style:{marginTop:10,marginLeft:30,width:80,flt:"left",color:"#ffde5c"},c:"HP"}),DIV({style:{marginTop:10,flt:"left",color:"#fff5cb"},c:t.fairyId===o?t.fairyHP:t.enemyHP}),CLEAR_BOTH(),DIV({style:{marginTop:10,marginLeft:30,width:80,flt:"left",color:"#ffde5c"},c:MSG("DAMAGE")}),DIV({style:{marginTop:10,flt:"left",color:"#fff5cb"},c:INTEGER(t.fairyId===o?t.fairyDamage:t.enemyDamage)})]})),EtherFairy.FairyModel.get(t.fairyId!==o?t.fairyId:t.enemyId,r=>{n.append(UUI.V_CENTER({style:{flt:"right",width:280,height:211,position:"relative",fontWeight:"bold",textShadow:EtherFairy.TextBorderShadow("#160b00")},c:[DIV({style:{flt:"left"},c:EtherFairy.RankMark(e.rating)}),DIV({style:{marginTop:5,marginLeft:20,flt:"left",color:"#fff5cb"},c:[A({style:{fontSize:25,color:"#fff"},c:r.name,on:{tap:()=>{EtherFairy.GO("fairy/"+r.id)}}}),DIV({c:r.rating})]}),CLEAR_BOTH(),DIV({style:{marginTop:15,marginLeft:30,width:80,flt:"left",color:"#ffde5c"},c:"Lv."}),DIV({style:{marginTop:15,flt:"left",color:"#fff5cb"},c:t.fairyId!==o?t.fairyLevel:t.enemyLevel}),CLEAR_BOTH(),DIV({style:{marginTop:10,marginLeft:30,width:80,flt:"left",color:"#ffde5c"},c:"HP"}),DIV({style:{marginTop:10,flt:"left",color:"#fff5cb"},c:t.fairyId!==o?t.fairyHP:t.enemyHP}),CLEAR_BOTH(),DIV({style:{marginTop:10,marginLeft:30,width:80,flt:"left",color:"#ffde5c"},c:MSG("DAMAGE")}),DIV({style:{marginTop:10,flt:"left",color:"#fff5cb"},c:INTEGER(t.fairyId!==o?t.fairyDamage:t.enemyDamage)}),CLEAR_BOTH()]})),n.append(CLEAR_BOTH())})})})})};d(),n.append(UUI.BUTTON_H({style:{marginTop:10,marginLeft:40,flt:"left",textShadow:EtherFairy.TextBorderShadow("#160b00")},icon:IMG({src:EtherFairy.R("fairyinfo/arrow.png")}),spacing:10,title:MSG("PREVIOUS_BUTTON"),on:{tap:()=>{l-=c,l<0&&(l=0),d()}}})),n.append(UUI.BUTTON_H({style:{marginTop:10,marginRight:40,flt:"right",textShadow:EtherFairy.TextBorderShadow("#160b00")},icon:IMG({style:{transform:"scaleX(-1)"},src:EtherFairy.R("fairyinfo/arrow.png")}),isIconRight:!0,spacing:10,title:MSG("NEXT_BUTTON"),on:{tap:()=>{l+=c,d()}}})),n.append(CLEAR_BOTH())})}}),EtherFairy.FairyOrigin=CLASS({preset:()=>{return VIEW},init:(t,e)=>{t.on("paramsChange",t=>{let e=t.fairyOriginId;EtherFairy.FairyOriginModel.get(e,t=>{let r;EtherFairy.Layout.setContent(DIV({style:{width:800,margin:"auto",padding:"30px 0"},c:[H1({style:{fontSize:30,fontWeight:"bold",color:"#FFEA4F",marginBottom:20},c:t.name}),EtherFairy.FairyOriginCard({style:{flt:"left"},fairyOriginData:t}),r=DIV({style:{width:420,marginLeft:20,flt:"left"}}),CLEAR_BOTH()]})),EtherFairy.WalletManager.checkIsLocked(e=>{e!==!0&&EtherFairy.WalletManager.getWalletAddress(e=>{EtherFairy.MasterModel.get(e,{notExists:()=>{},success:()=>{r.append(Yogurt.Button({c:MSG("BUY_FAIRY_BUTTON"),on:{tap:()=>{Yogurt.Prompt(MSG("PLEASE_ENTER_FAIRY_NAME"),e=>{let i;r.append(i=DIV({style:{padding:"20px 0"},c:MSG("BUYING_FAIRY")})),EtherFairy.EtherFairyContract.birthFairy({fairyOriginId:t.id,designer:"0x38b4343b3BE52374D83398159F2FA06ef78bDA7D",name:e,firePointPerLevel:t.firePointPerLevel,waterPointPerLevel:t.waterPointPerLevel,windPointPerLevel:t.windPointPerLevel,earthPointPerLevel:t.earthPointPerLevel,lightPointPerLevel:t.lightPointPerLevel,darkPointPerLevel:t.darkPointPerLevel,ether:.05},{error:t=>{alert(t),i.remove()},success:()=>{i.remove(),EtherFairy.GO("master/managefairy")}})})}}}))}})})}),EtherFairy.EtherFairyContract.getFairyCountByOriginId(e,t=>{console.log(t)}),EtherFairy.EtherFairyContract.getFairyIdsByOriginId(e,t=>{console.log(t)})})})}}),EtherFairy.Home=CLASS({preset:()=>{return VIEW},init:(t,e)=>{TITLE(MSG("TITLE"));EtherFairy.Layout.setContent(DIV({c:[DIV({style:{backgroundImage:EtherFairy.R("main.png"),backgroundSize:"cover",backgroundPosition:"center center",onDisplayResize:(t,e)=>{return t<620?{height:280}:t<820?{height:320}:t<1550?{height:400}:{height:425}}},c:DIV({style:{padding:10,margin:"auto",textAlign:"center",onDisplayResize:(t,e)=>{return t<620?{paddingTop:100,width:300}:t<820?{paddingTop:150,width:600}:t<1550?{paddingTop:200,width:800}:{paddingTop:230,width:1110}}},c:[P({style:{color:"#fff",fontWeight:"bold",textShadow:"0 0 40px #000000, 0 0 40px #000000, 0 0 40px #000000",onDisplayResize:(t,e)=>{return t<620?{fontSize:25}:t<820?{fontSize:30}:t<1550?{fontSize:40}:{fontSize:50}}},c:MSG("HOME_TITLE")}),Yogurt.Button({style:{margin:"auto",marginTop:10,width:200,boxShadow:"0 0 40px #000000"},title:MSG("HOME_BODY_START_BUTTON"),on:{tap:()=>{EtherFairy.GO("start")}}})]})}),DIV({style:{padding:10,margin:"auto",paddingBottom:50,onDisplayResize:(t,e)=>{return t<620?{width:300}:t<820?{width:570}:t<1550?{width:700}:{width:1010}}},c:[DIV({style:{onDisplayResize:(t,e)=>{return t<1550?{marginTop:30}:{marginTop:0}}},c:[IMG({style:{flt:"left",onDisplayResize:(t,e)=>{return t<620?{display:"none"}:t<820?{display:"block",width:150}:t<1550?{display:"block",width:200}:{display:"block",width:300}}},src:EtherFairy.R("fairysample.png")}),DIV({style:{flt:"right",onDisplayResize:(t,e)=>{return t<620?{fontSize:14,width:300}:t<820?{fontSize:16,width:380}:t<1550?{fontSize:18,width:460}:{fontSize:20,width:600}}},c:[H2({style:{fontWeight:"bold",color:"#fff5cb",onDisplayResize:(t,e)=>{return t<620?{marginTop:0,fontSize:18}:t<820?{marginTop:0,fontSize:22}:t<1550?{marginTop:0,fontSize:26}:{marginTop:60,fontSize:30}}},c:MSG("HOME_BODY_1_NAMETAG")}),P({style:{marginTop:20},c:MSG("HOME_BODY_1_DESCRIPTION_1")}),P({style:{marginTop:20},c:MSG("HOME_BODY_1_DESCRIPTION_2")}),Yogurt.Button({style:{margin:"auto",marginTop:30,fontSize:20,width:200},title:MSG("HOME_BODY_HOW_TO_BUTTON"),target:"_blank",href:"https://medium.com/@youngjaesim/"})]}),CLEAR_BOTH()]}),DIV({style:{onDisplayResize:(t,e)=>{return t<1550?{marginTop:30}:{marginTop:0}}},c:[DIV({style:{width:600,flt:"left",fontSize:20,onDisplayResize:(t,e)=>{return t<620?{fontSize:14,width:300}:t<820?{fontSize:16,width:380}:t<1550?{fontSize:18,width:460}:{fontSize:20,width:600}}},c:[H2({style:{marginTop:80,fontSize:30,fontWeight:"bold",color:"#fff5cb",onDisplayResize:(t,e)=>{return t<620?{marginTop:0,fontSize:18}:t<820?{marginTop:0,fontSize:22}:t<1550?{marginTop:0,fontSize:26}:{marginTop:60,fontSize:30}}},c:MSG("HOME_BODY_2_NAMETAG")}),P({style:{marginTop:20},c:MSG("HOME_BODY_2_DESCRIPTION_1")}),P({style:{marginTop:20},c:MSG("HOME_BODY_2_DESCRIPTION_2")}),Yogurt.Button({style:{margin:"auto",marginTop:30,fontSize:20,width:200},title:MSG("START_DESIGNER_BUTTON"),on:{tap:()=>{EtherFairy.GO("designer/start");
}}})]}),IMG({style:{width:300,flt:"right",onDisplayResize:(t,e)=>{return t<620?{display:"none"}:t<820?{display:"block",width:150}:t<1550?{display:"block",width:200}:{display:"block",width:300}}},src:EtherFairy.R("fairysample.png")}),CLEAR_BOTH()]}),Yogurt.Button({style:{marginTop:20,fontSize:30},title:MSG("HOME_BODY_START_BUTTON"),on:{tap:()=>{EtherFairy.GO("start")}}})]})]}))}}),EtherFairy.Layout=CLASS(t=>{let e,r;t.setContent=(t=>{e.empty(),e.append(t)}),t.addRunningProcess=(t=>{return EtherFairy.RunningProcessItem(t).appendTo(r)});return{preset:()=>{return VIEW},init:(t,i)=>{let n,o,a,l=Yogurt.MenuLayout({style:{color:"#999"},toolbar:Yogurt.Toolbar({height:68,contentStyle:{onDisplayResize:(t,e)=>{return t>Yogurt.Theme.menuLayoutHideMenuWinWidth?{left:Yogurt.Theme.menuLayoutMenuWidth,width:BODY.getWidth()-2*Yogurt.Theme.menuLayoutMenuWidth}:{left:0,width:"100%"}}},left:Yogurt.ToolbarButton({style:{marginTop:10,color:"#999",onDisplayResize:(t,e)=>{return t>Yogurt.Theme.menuLayoutHideMenuWinWidth?{display:"none"}:{display:"block"}}},icon:FontAwesome.GetIcon("bars"),on:{tap:t=>{l.toggleLeftMenu()}}}),right:Yogurt.ToolbarButton({style:{marginTop:10,color:"#999",onDisplayResize:(t,e)=>{return t>Yogurt.Theme.menuLayoutHideMenuWinWidth?{display:"none"}:{display:"block"}}},icon:FontAwesome.GetIcon("clipboard-list"),on:{tap:t=>{l.toggleRightMenu()}}}),title:A({c:IMG({style:{marginTop:-5,width:192},src:EtherFairy.R("logo.png")}),on:{tap:()=>{EtherFairy.GO("")}}})}),leftMenu:n=DIV({c:[DIV({style:{width:"100%",borderBottom:"1px solid #333",cursor:"pointer"},c:[UUI.BUTTON_H({style:{padding:10,fontSize:15},icon:SPAN({style:{width:15,textAlign:"center"},c:FontAwesome.GetIcon("home")}),spacing:10,title:MSG("SIDEBAR_HOME_BUTTON")})],on:{tap:()=>{EtherFairy.GO(""),l.hideLeftMenu()}}}),o=DIV({style:{width:"100%",borderBottom:"1px solid #333",cursor:"pointer"},c:[UUI.BUTTON_H({style:{padding:10,fontSize:15},icon:SPAN({style:{width:15,textAlign:"center"},c:FontAwesome.GetIcon("sign-in-alt")}),spacing:10,title:MSG("SIDEBAR_START_BUTTON")})],on:{tap:()=>{EtherFairy.GO("start"),l.hideLeftMenu()}}}),DIV({style:{width:"100%",borderBottom:"1px solid #333",cursor:"pointer"},c:[UUI.BUTTON_H({style:{padding:10,fontSize:15},icon:SPAN({style:{width:15,textAlign:"center"},c:FontAwesome.GetIcon("trophy")}),spacing:10,title:MSG("SIDEBAR_LEADERBOARD_BUTTON")})],on:{tap:()=>{EtherFairy.GO("ranking"),l.hideLeftMenu()}}}),DIV({style:{width:"100%",borderBottom:"1px solid #333",cursor:"pointer"},c:[UUI.BUTTON_H({style:{padding:10,fontSize:15},icon:SPAN({style:{width:15,textAlign:"center"},c:FontAwesome.GetIcon("list-ol")}),spacing:10,title:MSG("SIDEBAR_OWNER_LEADERBOARD_BUTTON")})],on:{tap:()=>{EtherFairy.GO("master/ranking"),l.hideLeftMenu()}}})]}),rightMenu:DIV({style:{paddingBottom:20},c:DIV({c:[DIV({style:{width:"100%",borderBottom:"1px solid #444",cursor:"pointer"},c:[UUI.BUTTON_H({style:{padding:10,fontSize:15},icon:SPAN({style:{width:15,textAlign:"center"},c:FontAwesome.GetIcon("music")}),spacing:10,title:MSG("BGM_TITLE")}),a=DIV()]}),DIV({style:{width:"100%",borderBottom:"1px solid #444",cursor:"pointer"},c:[UUI.BUTTON_H({style:{padding:10,fontSize:15},icon:SPAN({style:{width:15,textAlign:"center"},c:FontAwesome.GetIcon("tasks")}),spacing:10,title:MSG("RUNNING_PROCESS_TITLE")}),r=DIV()]})]})}),c:[Yogurt.Wrapper({style:{backgroundColor:"#1f2328",color:"#fff"},c:[e=DIV(),DIV({style:{backgroundColor:"#171a1d",color:"#999",padding:"20px",boxShadow:"0 -2px 4px rgba(0, 0, 0, .5)",lineHeight:"1.5em",onDisplayResize:(t,e)=>{return t<820?{fontSize:14}:{fontSize:16}}},c:[DIV({style:{flt:"left",marginTop:2},c:[A({target:"_blank",href:"https://btncafe.com",c:"© BTNcafe Co."}),A({style:{marginLeft:20},target:"_blank",href:"https://btncafe.com",c:MSG("TERMS")}),A({style:{marginLeft:20},target:"_blank",href:"ko"===INFO.getLang()?"https://btncafe.com/R/privacy-kr.html":"zh"===INFO.getLang().substring(0,2)?"https://btncafe.com/R/privacy-zh.html":"https://btncafe.com/R/privacy.html",c:MSG("PRIVACY")})]}),DIV({style:{flt:"right"},c:[A({style:{marginLeft:20,fontSize:20},c:FontAwesome.GetBrandIcon("facebook"),target:"_blank",href:"https://www.facebook.com/etherfairy"}),A({style:{marginLeft:20,fontSize:20},c:FontAwesome.GetIcon("envelope"),href:"mailto:contact@btncafe.com"})]}),CLEAR_BOTH()]})]})]}).appendTo(BODY);NEXT([t=>{EtherFairy.WalletManager.checkIsLocked(e=>{e!==!0?EtherFairy.WalletManager.getWalletAddress(e=>{EtherFairy.MasterModel.get(e,{notExists:()=>{t()},success:()=>{n.append(DIV({style:{width:"100%",borderBottom:"1px solid #444",cursor:"pointer"},c:[UUI.BUTTON_H({style:{padding:10,paddingLeft:10,fontSize:15},icon:IMG({src:EtherFairy.R("layout/master.png")}),spacing:10,title:MSG("SIDEBAR_OWNER_MENU_BUTTON")}),DIV({style:{width:"100%",cursor:"pointer",backgroundColor:"#33393e"},c:UUI.BUTTON_H({style:{padding:10,paddingLeft:15,fontSize:15},icon:SPAN({style:{width:15,textAlign:"center"},c:FontAwesome.GetIcon("home")}),spacing:10,title:MSG("OWNER_HOME_BUTTON")}),on:{tap:()=>{EtherFairy.GO("master"),l.hideLeftMenu()}}}),DIV({style:{borderTop:"1px solid #222",width:"100%",cursor:"pointer",backgroundColor:"#33393e"},c:UUI.BUTTON_H({style:{padding:10,paddingLeft:15,fontSize:15},icon:SPAN({style:{width:15,textAlign:"center"},c:FontAwesome.GetIcon("shopping-cart")}),spacing:10,title:MSG("SIDEBAR_BUY_FAIRY_BUTTON")}),on:{tap:()=>{EtherFairy.GO("master/buyfairy"),l.hideLeftMenu()}}}),DIV({style:{borderTop:"1px solid #222",width:"100%",cursor:"pointer",backgroundColor:"#33393e"},c:UUI.BUTTON_H({style:{padding:10,paddingLeft:15,fontSize:15},icon:SPAN({style:{width:15,textAlign:"center"},c:FontAwesome.GetIcon("arrows-alt-h")}),spacing:10,title:MSG("SIDEBAR_TRADE_FAIRY_BUTTON")}),on:{tap:()=>{EtherFairy.GO("master/tradefairy"),l.hideLeftMenu()}}})]})),t(!0)}})}):t()})},()=>{return t=>{EtherFairy.DesignerModel.checkSigned(e=>{n.append(DIV({style:{width:"100%",borderBottom:"1px solid #444",cursor:"pointer"},c:[UUI.BUTTON_H({style:{padding:10,paddingLeft:10,fontSize:15},icon:IMG({src:EtherFairy.R("layout/designer.png")}),spacing:10,title:MSG("SIDEBAR_DESIGNER_MENU_NAMETAG")}),DIV({style:{width:"100%",cursor:"pointer",backgroundColor:"#33393e"},c:UUI.BUTTON_H({style:{padding:10,paddingLeft:15,fontSize:15},icon:SPAN({style:{width:15,textAlign:"center"},c:FontAwesome.GetIcon("home")}),spacing:10,title:MSG("DESIGNER_HOME_BUTTON")}),on:{tap:()=>{EtherFairy.GO("designer"),l.hideLeftMenu()}}}),DIV({style:{borderTop:"1px solid #222",width:"100%",cursor:"pointer",backgroundColor:"#33393e"},c:UUI.BUTTON_H({style:{padding:10,paddingLeft:15,fontSize:15},icon:SPAN({style:{width:15,textAlign:"center"},c:FontAwesome.GetIcon("dollar-sign")}),spacing:10,title:MSG("SIDEBAR_MANAGE_SALES_BUTTON")}),on:{tap:()=>{EtherFairy.GO("designer/managesales"),l.hideLeftMenu()}}}),DIV({style:{borderTop:"1px solid #222",width:"100%",cursor:"pointer",backgroundColor:"#33393e"},c:UUI.BUTTON_H({style:{padding:10,paddingLeft:15,fontSize:15},icon:SPAN({style:{width:15,textAlign:"center"},c:FontAwesome.GetIcon("sign-out-alt")}),spacing:10,title:MSG("LOGOUT")}),on:{tap:()=>{EtherFairy.DesignerModel.logout(),l.hideLeftMenu()}}})]})),t===!0&&o.remove()})}}]),t.on("close",()=>{l.remove(),e=void 0})}}}),EtherFairy.Ranking=CLASS({preset:()=>{return VIEW},init:(t,e)=>{let r,i;EtherFairy.Layout.setContent(DIV({style:{margin:"auto",width:1110,padding:"30px 0 50px 10px",onDisplayResize:(t,e)=>{return t<400?{width:310}:t<620?{width:380}:t<800?{width:570}:t<1300?{width:760}:t<1550?{width:740}:{width:1110}}},c:[H1({style:{fontSize:30,fontWeight:"bold",color:"#FFEA4F",marginBottom:20},c:MSG("FAIRY_LEADERBOARD_TITLE")}),r=DIV(),i=DIV({c:IMG({style:{width:100},src:EtherFairy.R("loading.svg")})})]})),EtherFairy.EtherFairyContract.getFairyCount(t=>{r.append(MSG("TOTAL_FAIRY_COUNT_NAMETAG")+" : "+t)}),EtherFairy.EtherFairyContract.getFairyIdsByBirthTime(t=>{i.empty(),EACH(t,t=>{i.append(EtherFairy.FairyCard({style:{marginTop:10,marginRight:10,flt:"left",cursor:"pointer",onDisplayResize:(t,e)=>{return t<400?{transform:"scale(0.4)",transformOrigin:"left top",width:144,height:240}:t<1300?{transform:"scale(0.5)",transformOrigin:"left top",width:180,height:300}:{transform:TO_DELETE,transformOrigin:TO_DELETE,width:360,height:600}}},fairyId:t,on:{tap:()=>{EtherFairy.GO("fairy/"+t)}}}))}),i.append(CLEAR_BOTH())}),EtherFairy.EtherFairyContract.getFairyIdsByBirthTime(t=>{console.log(t)})}}),EtherFairy.Start=CLASS({preset:()=>{return VIEW},init:(t,e)=>{let r;EtherFairy.Layout.setContent(UUI.PANEL({style:{margin:"auto",onDisplayResize:(t,e)=>{return t<1024?{width:"100%"}:{width:950}}},contentStyle:{padding:"50px 0"},c:[H1({style:{fontSize:30,fontWeight:"bold",color:"#FFEA4F",marginBottom:40,textAlign:"center"},c:MSG("START_TITLE")}),r=DIV({style:{flt:"left",width:458,height:368,backgroundImage:EtherFairy.R("start/masterpanel.png"),cursor:"pointer"},c:[H2({style:{marginTop:15,textAlign:"center",fontSize:20,fontWeight:"bold",color:"#633618"},c:MSG("START_OWNER_BUTTON")}),UUI.V_CENTER({style:{margin:"auto",marginTop:260,color:"#fef2d8",width:300,height:60,textAlign:"center",lineHeight:"1.5em"},c:MSG("START_OWNER_DESCRIPTION")})],on:{tap:()=>{EtherFairy.WalletManager.checkIsEnable()===!0?EtherFairy.WalletManager.checkIsLocked(t=>{t===!0?Yogurt.Alert({msg:[IMG({src:EtherFairy.R("metamask.png")}),P({c:MSG("METAMASK_NOT_UNLOCKED_ALERT")})]}):EtherFairy.WalletManager.getWalletAddress(t=>{EtherFairy.MasterModel.checkExists({filter:{id:t}},t=>{t===!0?EtherFairy.REFRESH("master"):EtherFairy.GO("master/join")})})}):Yogurt.Confirm({msg:[IMG({src:EtherFairy.R("metamask.png")}),P({c:MSG("METAMASK_NOT_INSTALLED_ALERT")})],okButtonTitle:MSG("INSTALL_METAMASK_BUTTON"),target:"_blank",href:"https://metamask.io"})}}}),DIV({style:{flt:"right",width:458,height:368,backgroundImage:EtherFairy.R("start/designerpanel.png"),cursor:"pointer"},c:[H2({style:{marginTop:15,textAlign:"center",fontSize:20,fontWeight:"bold",color:"#633618"},c:MSG("START_DESIGNER_BUTTON")}),UUI.V_CENTER({style:{margin:"auto",marginTop:260,color:"#fef2d8",width:300,height:60,textAlign:"center",lineHeight:"1.5em"},c:MSG("START_DESIGNER_DESCRIPTION")})],on:{tap:()=>{EtherFairy.GO("designer/start")}}}),CLEAR_BOTH()]}))}}),EtherFairy("Company").CreateDesignerIdentity=CLASS({preset:()=>{return VIEW},init:(t,e)=>{EtherFairy.EtherFairyContract.company(t=>{EtherFairy.WalletManager.getWalletAddress(e=>{e===t&&EtherFairy.Layout.setContent(UUI.PANEL({style:{margin:"auto",onDisplayResize:(t,e)=>{return t<600?{width:"100%"}:{width:600}}},contentStyle:{padding:"50px 10px"},c:[H1({style:{fontSize:30,fontWeight:"bold",color:"#FFEA4F"},c:"디자이너 Identity 추가"}),UUI.VALID_FORM({style:{marginTop:30},errorMsgs:{adminPassword:{wrong:"잘못된 비밀번호"},name:{notEmpty:"이름을 입력하세요."},email:{notEmpty:MSG("NULL_EMAIL_ALERT"),size:t=>{return MSG("EMAIL_MIN_MAX_ALERT").replace(/{min}/,t.min).replace(/{max}/,t.max)},email:MSG("CHECK_EMAIL_FORM_ALERT")},phoneNumber:{notEmpty:"전화번호를 입력하세요."}},errorMsgStyle:{marginTop:5,color:"red"},c:[Yogurt.Input({style:{marginTop:10,padding:10,border:"none",borderRadius:10},name:"adminPassword",type:"password",placeholder:"관리자 비밀번호"}),Yogurt.Input({style:{marginTop:10,padding:10,border:"none",borderRadius:10},name:"name",placeholder:"실명"}),Yogurt.Input({style:{marginTop:10,padding:10,border:"none",borderRadius:10},name:"email",placeholder:"이메일"}),Yogurt.Input({style:{marginTop:10,padding:10,border:"none",borderRadius:10},name:"phoneNumber",placeholder:"전화번호"}),Yogurt.Submit({style:{marginTop:30},value:"작성완료"})],on:{submit:(t,e)=>{let r=e.getData();EtherFairy.DesignerIdentityModel.create(r,{notValid:e.showErrors,success:()=>{EtherFairy.GO("company/designeridentity")}})}}})]}))})})}}),EtherFairy("Company").DesignerIdentity=CLASS({preset:()=>{return VIEW},init:(t,e)=>{EtherFairy.EtherFairyContract.company(t=>{EtherFairy.WalletManager.getWalletAddress(e=>{if(e===t){let t;EtherFairy.Layout.setContent(UUI.PANEL({style:{margin:"auto",onDisplayResize:(t,e)=>{return t<800?{width:"100%"}:{width:800}}},contentStyle:{padding:"50px 10px"},c:[H1({style:{fontSize:30,fontWeight:"bold",color:"#FFEA4F"},c:"디자이너 Identity 관리"}),t=TABLE({style:{marginTop:20},c:TR({c:[TH({c:"ID"}),TH({c:"실명"}),TH({c:"이메일"}),TH({c:"전화번호"}),TH({c:"가입 여부"})]})})]})),EtherFairy.DesignerIdentityModel.find(e=>{EACH(e,e=>{let r;t.append(TR({c:[TD({c:A({c:e.id,href:EtherFairy.HREF("designer/join/"+e.id)})}),TD({c:e.name}),TD({c:e.email}),TD({c:e.phoneNumber}),r=TD()]})),EtherFairy.DesignerModel.checkExists({filter:{identityCode:e.id}},t=>{r.append(t)})})})}})})}}),EtherFairy("Company").ManageService=CLASS({preset:()=>{return VIEW},init:(t,e)=>{TITLE("Ether Fairy 관리자 페이지");let r,i,n;EtherFairy.Layout.setContent(DIV({style:{margin:"auto",width:1110,padding:"30px 0 50px 10px",onDisplayResize:(t,e)=>{return t<400?{width:310}:t<620?{width:380}:t<800?{width:570}:t<1300?{width:760}:t<1550?{width:740}:{width:1110}}},c:[H1({style:{fontSize:30,fontWeight:"bold",color:"#FFEA4F",marginBottom:20},c:"서비스 관리 페이지"}),r=DIV(),i=DIV(),n=DIV()]})),EtherFairy.EtherFairyContract.company(t=>{EtherFairy.WalletManager.getWalletAddress(e=>{e===t&&(EtherFairy.EtherFairyContract.getMasterCount(t=>{r.append("총 소유주 수 : "+t)}),i.append(Yogurt.Button({style:{marginTop:10},title:"디자이너 Identity 추가",on:{tap:()=>{EtherFairy.GO("company/createdesigneridentity")}}})),i.append(Yogurt.Button({style:{marginTop:10},title:"디자이너 Identity 관리",on:{tap:()=>{EtherFairy.GO("company/designeridentity")}}})),i.append(DIV({style:{marginTop:10},c:A({c:"공식 마켓 변경",on:{tap:()=>{EtherFairy.EtherFairyContract.changeOfficialMarket("0x5aa92c9a75e33864ffc49355095b483e607089ae",()=>{console.log("Done")})}}})})),n.append(DIV({style:{marginTop:10},c:A({c:"마켓 소유권 이전",on:{tap:()=>{EtherFairy.FairyMarketContract.transferOwnership("0xEcCFaA737a5A80bE37e4E70130628E692413cB36",()=>{console.log("Done")})}}})})),n.append(DIV({style:{marginTop:10},c:A({c:"마켓 일시정지",on:{tap:()=>{EtherFairy.FairyMarketContract.pauseMarket(()=>{console.log("Done")})}}})})),n.append(DIV({style:{marginTop:10},c:A({c:"마켓 재개",on:{tap:()=>{EtherFairy.FairyMarketContract.resumeMarket(()=>{console.log("Done")})}}})})))})})}}),EtherFairy("Designer").DesignFairy=CLASS({preset:()=>{return VIEW},init:(t,e)=>{EtherFairy.DesignerModel.checkSigned({fail:()=>{EtherFairy.GO("designer/start")},success:t=>{let e,r,i,n,o,a,l,c,d,f,h,y,g,s,E,p,u,T=5,I=0,m=0,F=0,S=0,R=0,_=0,L=()=>{return I+m+F+S+R+_},M=(t,e)=>{let i=L();i+e>5&&(e=5-i),"fire"===t&&(I+e<0&&(e=0),I+=e,a.empty(),a.append(I),y.empty(),y.append(I)),"water"===t&&(m+e<0&&(e=0),m+=e,l.empty(),l.append(m),g.empty(),g.append(m)),"wind"===t&&(F+e<0&&(e=0),F+=e,c.empty(),c.append(F),s.empty(),s.append(F)),"earth"===t&&(S+e<0&&(e=0),S+=e,d.empty(),d.append(S),E.empty(),E.append(S)),"light"===t&&(R+e<0&&(e=0),R+=e,f.empty(),f.append(R),p.empty(),p.append(R)),"dark"===t&&(_+e<0&&(e=0),_+=e,h.empty(),h.append(_),u.empty(),u.append(_)),r.empty(),r.append(5-L())};EtherFairy.Layout.setContent(UUI.PANEL({style:{padding:"40px 0 60px"},contentStyle:{margin:"auto",width:801,height:1289,backgroundImage:EtherFairy.R("designfairy/background.png"),textAlign:"center"},c:[H1({style:{paddingTop:30,fontSize:30,fontWeight:"bold",color:"#ffde5c",textShadow:EtherFairy.TextBorderShadow("#160b00")},c:MSG("DESIGN_FAIRY")}),n=UUI.FULL_UPLOAD_FORM({style:{position:"fixed",left:-999999,top:-999999},box:EtherFairy},{success:(t,r)=>{i.empty(),i.addStyle({backgroundImage:EtherFairy.RF(t.id)}),e=t.id}}),DIV({style:{position:"relative",margin:"auto",marginTop:70,width:360,height:550,backgroundImage:EtherFairy.R("origincard.png")},c:[DIV({style:{paddingTop:12,color:"#ffde5c",textShadow:EtherFairy.TextBorderShadow("#160b00")},c:"("+MSG("DESIGN_FAIRY_FAIRY_NAME_DESCRIPTION")+")"}),i=UUI.V_CENTER({style:{position:"absolute",left:10,top:43,width:339,height:399,textAlign:"center",borderRadius:6,backgroundSize:"cover",backgroundPosition:"center center",cursor:"pointer",color:"#999"},c:[MSG("PLEASE_FILE_UPLOAD"),FontAwesome.GetIcon({style:{marginTop:20,display:"block",fontSize:30,textAlign:"center"},key:"upload"})],on:{tap:()=>{n.select()}}}),DIV({style:{position:"absolute",left:16,bottom:52},c:[y=UUI.V_CENTER({style:{flt:"left",width:52,height:52,backgroundImage:EtherFairy.R("element/fire.png"),color:"#fff5ef",textShadow:EtherFairy.TextBorderShadow("#1d0e08"),textAlign:"center",fontSize:20},c:I}),g=UUI.V_CENTER({style:{marginLeft:3,flt:"left",width:52,height:52,backgroundImage:EtherFairy.R("element/water.png"),color:"#fff5ef",textShadow:EtherFairy.TextBorderShadow("#1d0e08"),textAlign:"center",fontSize:20},c:m}),s=UUI.V_CENTER({style:{marginLeft:3,flt:"left",width:52,height:52,backgroundImage:EtherFairy.R("element/wind.png"),color:"#fff5ef",textShadow:EtherFairy.TextBorderShadow("#1d0e08"),textAlign:"center",fontSize:20},c:F}),E=UUI.V_CENTER({style:{marginLeft:3,flt:"left",width:52,height:52,backgroundImage:EtherFairy.R("element/earth.png"),color:"#fff5ef",textShadow:EtherFairy.TextBorderShadow("#1d0e08"),textAlign:"center",fontSize:20},c:S}),p=UUI.V_CENTER({style:{marginLeft:3,flt:"left",width:52,height:52,backgroundImage:EtherFairy.R("element/light.png"),color:"#fff5ef",textShadow:EtherFairy.TextBorderShadow("#1d0e08"),textAlign:"center",fontSize:20},c:R}),u=UUI.V_CENTER({style:{marginLeft:3,flt:"left",width:52,height:52,backgroundImage:EtherFairy.R("element/dark.png"),color:"#fff5ef",textShadow:EtherFairy.TextBorderShadow("#1d0e08"),textAlign:"center",fontSize:20},c:_}),CLEAR_BOTH()]}),o=UUI.FULL_INPUT({style:{position:"absolute",left:10,bottom:10,width:326,padding:7,borderRadius:4},inputStyle:{textAlign:"center"},name:"name",placeholder:MSG("PLEASE_ENTER_FAIRY_ORIGIN_NAME")})]}),DIV({style:{width:400,margin:"auto",marginTop:50},c:[H3({style:{textAlign:"right",color:"#ffde5c",textShadow:EtherFairy.TextBorderShadow("#160b00")},c:[SPAN({style:{color:"#FFFFCC",marginRight:20},c:MSG("REMAINING_STATUS_POINT_NAMETAG")}),r=SPAN({c:T})]})]}),UUI.VALID_FORM({style:{width:400,margin:"auto",marginTop:30},c:[DIV({c:[SPAN({style:{color:"#663300",fontWeight:"bold",flt:"left",marginTop:8},c:MSG("FIRE_POINT_PER_LEVEL")}),DIV({style:{flt:"right"},c:[A({c:IMG({style:{flt:"left"},src:EtherFairy.R("designfairy/minus.png")}),on:{tap:()=>{M("fire",-1)}}}),a=DIV({style:{flt:"left",color:"#ffde5c",textShadow:EtherFairy.TextBorderShadow("#160b00"),marginTop:8,width:50,textAlign:"center"},c:I}),A({c:IMG({style:{flt:"left"},src:EtherFairy.R("designfairy/plus.png")}),on:{tap:()=>{M("fire",1)}}}),CLEAR_BOTH()]}),CLEAR_BOTH()]}),DIV({style:{marginTop:20},c:[SPAN({style:{color:"#663300",fontWeight:"bold",flt:"left",marginTop:8},c:MSG("WATER_POINT_PER_LEVEL")}),DIV({style:{flt:"right"},c:[A({c:IMG({style:{flt:"left"},src:EtherFairy.R("designfairy/minus.png")}),on:{tap:()=>{M("water",-1)}}}),l=DIV({style:{flt:"left",color:"#ffde5c",textShadow:EtherFairy.TextBorderShadow("#160b00"),marginTop:8,width:50,textAlign:"center"},c:m}),A({c:IMG({style:{flt:"left"},src:EtherFairy.R("designfairy/plus.png")}),on:{tap:()=>{M("water",1)}}}),CLEAR_BOTH()]}),CLEAR_BOTH()]}),DIV({style:{marginTop:20},c:[SPAN({style:{color:"#663300",fontWeight:"bold",flt:"left",marginTop:8},c:MSG("WIND_POINT_PER_LEVEL")}),DIV({style:{flt:"right"},c:[A({c:IMG({style:{flt:"left"},src:EtherFairy.R("designfairy/minus.png")}),on:{tap:()=>{M("wind",-1)}}}),c=DIV({style:{flt:"left",color:"#ffde5c",textShadow:EtherFairy.TextBorderShadow("#160b00"),marginTop:8,width:50,textAlign:"center"},c:F}),A({c:IMG({style:{flt:"left"},src:EtherFairy.R("designfairy/plus.png")}),on:{tap:()=>{M("wind",1)}}}),CLEAR_BOTH()]}),CLEAR_BOTH()]}),DIV({style:{marginTop:20},c:[SPAN({style:{color:"#663300",fontWeight:"bold",flt:"left",marginTop:8},c:MSG("EARTH_POINT_PER_LEVEL")}),DIV({style:{flt:"right"},c:[A({c:IMG({style:{flt:"left"},src:EtherFairy.R("designfairy/minus.png")}),on:{tap:()=>{M("earth",-1)}}}),d=DIV({style:{flt:"left",color:"#ffde5c",textShadow:EtherFairy.TextBorderShadow("#160b00"),marginTop:8,width:50,textAlign:"center"},c:S}),A({c:IMG({style:{flt:"left"},src:EtherFairy.R("designfairy/plus.png")}),on:{tap:()=>{M("earth",1)}}}),CLEAR_BOTH()]}),CLEAR_BOTH()]}),DIV({style:{marginTop:20},c:[SPAN({style:{color:"#663300",fontWeight:"bold",flt:"left",marginTop:8},c:MSG("LIGHT_POINT_PER_LEVEL")}),DIV({style:{flt:"right"},c:[A({c:IMG({style:{flt:"left"},src:EtherFairy.R("designfairy/minus.png")}),on:{tap:()=>{M("light",-1)}}}),f=DIV({style:{flt:"left",color:"#ffde5c",textShadow:EtherFairy.TextBorderShadow("#160b00"),marginTop:8,width:50,textAlign:"center"},c:R}),A({c:IMG({style:{flt:"left"},src:EtherFairy.R("designfairy/plus.png")}),on:{tap:()=>{M("light",1)}}}),CLEAR_BOTH()]}),CLEAR_BOTH()]}),DIV({style:{marginTop:20},c:[SPAN({style:{color:"#663300",fontWeight:"bold",flt:"left",marginTop:8},c:MSG("DARK_POINT_PER_LEVEL")}),DIV({style:{flt:"right"},c:[A({c:IMG({style:{flt:"left"},src:EtherFairy.R("designfairy/minus.png")}),on:{tap:()=>{M("dark",-1)}}}),h=DIV({style:{flt:"left",color:"#ffde5c",textShadow:EtherFairy.TextBorderShadow("#160b00"),marginTop:8,width:50,textAlign:"center"},c:_}),A({c:IMG({style:{flt:"left"},src:EtherFairy.R("designfairy/plus.png")}),on:{tap:()=>{M("dark",1)}}}),CLEAR_BOTH()]}),CLEAR_BOTH()]}),INPUT({type:"submit",style:{marginTop:55,width:296,height:97,backgroundColor:"transparent",backgroundImage:EtherFairy.R("designfairy/save.png"),border:"none",color:"#fff2ec",textShadow:EtherFairy.TextBorderShadow("#180b00"),fontSize:30,paddingBottom:12,cursor:"pointer"},value:MSG("SAVE_DESIGN_FAIRY")})],on:{submit:(r,i)=>{if(L()<5)Yogurt.Alert({msg:MSG("TOTAL_POINT_IS_NOT_FIVE")});else{let r=i.getData();r.name=o.getValue(),r.designerId=t.id,r.imageFileId=e,r.firePointPerLevel=I,r.waterPointPerLevel=m,r.windPointPerLevel=F,r.earthPointPerLevel=S,r.lightPointPerLevel=R,r.darkPointPerLevel=_,EtherFairy.FairyOriginModel.create(r,{notValid:t=>{if(void 0!==t.name){let e=t.name.type,r=t.name.validParams;"notEmpty"===e?Yogurt.Alert({msg:MSG("NOT_VALID_NAME_NOT_EMPTY")}):"size"===e&&Yogurt.Alert({msg:MSG("NOT_VALID_NAME_SIZE").replace(/{min}/,r.min).replace(/{max}/,r.max)})}else if(void 0!==t.imageFileId){let e=t.imageFileId.type;t.imageFileId.validParams;"notEmpty"===e&&Yogurt.Alert({msg:MSG("NOT_VALID_IMAGE_FILE_ID_NOT_EMPTY")})}},success:t=>{EtherFairy.GO("fairyorigin/"+t.id)}})}}}})]}))}})}}),EtherFairy("Designer").Home=CLASS({preset:()=>{return VIEW},init:(t,e)=>{EtherFairy.DesignerModel.checkSigned({fail:()=>{EtherFairy.GO("designer/start")},success:t=>{let e,r,i,n;EtherFairy.Layout.setContent(DIV({style:{margin:"auto",width:1110,padding:"30px 0 50px 10px"},c:[H1({style:{fontSize:30,fontWeight:"bold",color:"#FFEA4F",marginBottom:20},c:t.nickname}),DIV({style:{flt:"left"},c:[e=DIV({style:{width:200,height:200,backgroundImage:void 0===t.profileImageFileId?EtherFairy.R("default-profile.png"):EtherFairy.RF(t.profileImageFileId),backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",borderRadius:10},on:{mouseover:()=>{0===e.getChildren().length&&e.append(UUI.V_CENTER({style:{width:200,height:200,background:"rgba(0, 0, 0, 0.5)",borderRadius:10,textAlign:"center"},c:MSG("CHANGE_PROFILE_IMAGE_BUTTON"),on:{mouseout:()=>{e.empty()}}}))},tap:()=>{r.select()}}}),r=UUI.FULL_UPLOAD_FORM({style:{position:"fixed",left:-999999,top:-999999},box:EtherFairy},{success:(r,i)=>{e.addStyle({backgroundImage:EtherFairy.RF(r.id)}),EtherFairy.DesignerModel.update({id:t.id,profileImageFileId:r.id})}})]}),DIV({style:{marginLeft:20,flt:"left"},c:[i=DIV(),Yogurt.Button({style:{marginTop:20},c:MSG("DESIGN_FAIRY"),on:{tap:()=>{EtherFairy.GO("designer/designfairy")}}})]}),CLEAR_BOTH(),H3({style:{marginTop:30,fontSize:25},c:MSG("DESIGNER_HOME_DESIGNED_FAIRY_LIST")}),n=DIV({style:{marginTop:10},c:IMG({style:{width:100},src:EtherFairy.R("loading.svg")})})]})),EtherFairy.FairyOriginModel.find({filter:{designerId:t.id},isToFindAll:!0},t=>{i.append(MSG("DESIGNER_HOME_DESIGNED_FAIRY_COUNT")+" : "+t.length),n.empty(),EACH(t,t=>{n.append(EtherFairy.FairyOriginCard({style:{marginTop:10,marginRight:10,flt:"left",cursor:"pointer"},fairyOriginData:t,on:{tap:()=>{EtherFairy.GO("fairyorigin/"+t.id)}}}))}),n.append(CLEAR_BOTH())})}})}}),EtherFairy("Designer").Join=CLASS({preset:()=>{return VIEW},init:(t,e)=>{t.on("paramsChange",t=>{let e=t.identityCode;EtherFairy.Layout.setContent(UUI.PANEL({style:{margin:"auto",onDisplayResize:(t,e)=>{return t<600?{width:"100%"}:{width:600}}},contentStyle:{padding:"50px 10px"},c:[H1({style:{fontSize:30,fontWeight:"bold",color:"#FFEA4F"},c:MSG("SIGN_UP_AS_DESIGNER_BUTTON")}),UUI.VALID_FORM({style:{marginTop:30},errorMsgs:{username:{notEmpty:MSG("NULL_ID_ALERT"),size:t=>{return MSG("ID_MIN_MAX_ALERT").replace(/{min}/,t.min).replace(/{max}/,t.max)},username:MSG("ID_GUIDELINE_ALERT"),existed:MSG("ID_ALREADY_USED_ALERT"),notAllowed:MSG("ID_NOT_POSSIBLE_ALERT")},password:{notEmpty:MSG("NULL_PW_ALERT"),size:t=>{return MSG("PW_MIN_MAX_ALERT").replace(/{min}/,t.min).replace(/{max}/,t.max)}},email:{notEmpty:MSG("NULL_EMAIL_ALERT"),size:t=>{return MSG("EMAIL_MIN_MAX_ALERT").replace(/{min}/,t.min).replace(/{max}/,t.max)},email:MSG("CHECK_EMAIL_FORM_ALERT")},nickname:{notEmpty:MSG("NULL_NICKNAME_ALERT"),size:t=>{return MSG("NICKNAME_MIN_MAX_ALERT").replace(/{min}/,t.min).replace(/{max}/,t.max)}},isAgreedTerms:{equal:MSG("TERMS_NO_AGREE_ALERT")},isAgreedPrivacy:{equal:MSG("PRIVACY_POLICY_NO_AGREE_ALERT")}},errorMsgStyle:{marginTop:5,color:"red"},c:[Yogurt.Input({style:{marginTop:10,padding:10,border:"none",borderRadius:10},name:"username",placeholder:MSG("ID_NAMETAG")}),Yogurt.Input({style:{marginTop:10,padding:10,border:"none",borderRadius:10},name:"nickname",placeholder:MSG("NICKNAME_NAMETAG")}),Yogurt.Input({style:{marginTop:10,padding:10,border:"none",borderRadius:10},name:"password",type:"password",placeholder:MSG("PASSWORD_NAMETAG")}),Yogurt.Input({style:{marginTop:10,padding:10,border:"none",borderRadius:10},name:"email",placeholder:MSG("RECOVERY_EMAIL_NAMETAG")}),DIV({style:{marginTop:10},c:[Yogurt.Button({href:"ko"===INFO.getLang()?EtherFairy.R("terms-kr.html"):EtherFairy.R("terms.html"),target:"_blank",title:MSG("VIEW_TERMS_BUTTON")}),UUI.FULL_CHECKBOX({style:{marginTop:10},name:"isAgreedTerms",label:MSG("TERMS_AGREE_CHECKBOX")})]}),DIV({style:{marginTop:10},c:[Yogurt.Button({href:"ko"===INFO.getLang()?"https://btncafe.com/R/privacy-kr.html":"zh"===INFO.getLang().substring(0,2)?"https://btncafe.com/R/privacy-zh.html":"https://btncafe.com/R/privacy.html",target:"_blank",title:MSG("VIEW_PRIVACY_POLICY_BUTTON")}),UUI.FULL_CHECKBOX({style:{marginTop:10},name:"isAgreedPrivacy",label:MSG("PRIVACY_POLICY_CHECKBOX")})]}),Yogurt.Submit({style:{marginTop:30},value:MSG("JOIN_DONE")})],on:{submit:(t,r)=>{let i=r.getData();i.identityCode=e,EtherFairy.DesignerModel.create(i,{notValid:r.showErrors,success:()=>{EtherFairy.DesignerModel.login(i,t=>{EtherFairy.GO("designer")})}})}}})]}))})}}),EtherFairy("Designer").Login=CLASS({preset:()=>{return VIEW},init:(t,e)=>{EtherFairy.Layout.setContent(UUI.PANEL({style:{margin:"auto",onDisplayResize:(t,e)=>{return t<600?{width:"100%"}:{width:600}}},contentStyle:{padding:"50px 10px"},c:[H1({style:{fontSize:30,fontWeight:"bold",color:"#FFEA4F"},c:MSG("SIGN_IN_AS_DESIGNER_TITLE")}),UUI.VALID_FORM({style:{marginTop:30},errorMsgs:{username:{notEmpty:MSG("NULL_ID_ALERT"),size:t=>{return MSG("ID_MIN_MAX_ALERT").replace(/{min}/,t.min).replace(/{max}/,t.max)},username:MSG("ID_GUIDELINE_ALERT"),login:MSG("AUTHENTICATION_FAILED_ALERT")},password:{notEmpty:MSG("NULL_PW_ALERT"),size:t=>{return MSG("PW_MIN_MAX_ALERT").replace(/{min}/,t.min).replace(/{max}/,t.max)}}},errorMsgStyle:{marginTop:5,color:"red"},c:[Yogurt.Input({style:{marginTop:10,padding:10,border:"none",borderRadius:10},name:"username",placeholder:MSG("ID_NAMETAG")}),Yogurt.Input({style:{marginTop:10,padding:10,border:"none",borderRadius:10},name:"password",type:"password",placeholder:MSG("PASSWORD_NAMETAG")}),DIV({style:{marginTop:30},c:[Yogurt.Submit({style:{flt:"left",padding:10,width:"46%"},value:MSG("SIGN_IN_AS_DESIGNER_BUTTON")}),Yogurt.Button({style:{flt:"right",padding:10,width:"46%"},title:MSG("START_DESIGNER_BUTTON"),on:{tap:()=>{EtherFairy.GO("designer/start")}}}),CLEAR_BOTH()]})],on:{submit:(t,e)=>{let r=e.getData();r.language=INFO.getLang(),EtherFairy.DesignerModel.login(r,{notValid:e.showErrors,success:t=>{EtherFairy.GO("designer")}})}}})]}))}}),EtherFairy("Designer").Start=CLASS({preset:()=>{return VIEW},init:(t,e)=>{EtherFairy.Layout.setContent(UUI.PANEL({style:{margin:"auto",onDisplayResize:(t,e)=>{return t<600?{width:"100%"}:{width:600}}},contentStyle:{padding:"50px 10px"},c:[H1({style:{fontSize:30,fontWeight:"bold",color:"#FFEA4F"},c:MSG("START_DESIGNER_TITLE")}),DIV({style:{marginTop:30},c:[P({c:MSG("START_DESIGNER_DESCRIPTION_1")}),P({style:{marginTop:10},c:MSG("START_DESIGNER_DESCRIPTION_2")}),P({style:{marginTop:10},c:MSG("START_DESIGNER_DESCRIPTION_3")}),P({style:{marginTop:10},c:RUN(()=>{let t=MSG("START_DESIGNER_DESCRIPTION_4"),e="contact@btncafe.com",r=t.indexOf(e);return[t.substring(0,r),A({style:{color:"#C6B5F9"},href:"mailto:"+e,c:e}),t.substring(r+e.length)]})}),P({style:{marginTop:10},c:MSG("START_DESIGNER_DESCRIPTION_5")}),P({style:{marginTop:10},c:MSG("START_DESIGNER_DESCRIPTION_6")}),Yogurt.Button({style:{marginTop:30,padding:10},title:MSG("SIGN_IN_AS_DESIGNER_BUTTON"),on:{tap:()=>{EtherFairy.GO("designer/login")}}})]})]}))}}),EtherFairy("Master").BuyFairy=CLASS({preset:()=>{return VIEW},init:(t,e)=>{let r,i;EtherFairy.Layout.setContent(DIV({style:{margin:"auto",width:1110,padding:"30px 0 50px 10px"},c:[H1({style:{fontSize:30,fontWeight:"bold",color:"#FFEA4F",marginBottom:20},c:MSG("FAIRY_ORIGIN_LIST")}),r=DIV(),i=DIV({c:IMG({style:{width:100},src:EtherFairy.R("loading.svg")})})]})),EtherFairy.FairyOriginModel.find({count:20},t=>{r.append(MSG("TOTAL_FAIRY_ORIGIN_COUNT")+" : "+t.length),i.empty(),EACH(t,t=>{i.append(EtherFairy.FairyOriginCard({style:{marginTop:10,marginRight:10,flt:"left",cursor:"pointer"},fairyOriginData:t,on:{tap:()=>{EtherFairy.GO("fairyorigin/"+t.id)}}}))}),i.append(CLEAR_BOTH())})}}),EtherFairy("Master").Home=CLASS({preset:()=>{return VIEW},init:(t,e)=>{EtherFairy.WalletManager.checkIsEnable()===!0?EtherFairy.WalletManager.getWalletAddress(t=>{EtherFairy.MasterModel.checkExists(t,e=>{e!==!0?Yogurt.Prompt(MSG("PLEASE_ENTER_MASTER_NAME"),e=>{EtherFairy.MasterModel.create({id:t,name:e},()=>{EtherFairy.REFRESH("master")})}):EtherFairy.MasterModel.get(t,e=>{let r,i,n,o;EtherFairy.Layout.setContent(DIV({style:{margin:"auto",width:1110,padding:"30px 0 50px 10px"},c:[H1({style:{fontSize:30,fontWeight:"bold",color:"#FFEA4F",marginBottom:20},c:e.nickname}),DIV({style:{flt:"left"},c:[r=DIV({style:{width:200,height:200,backgroundImage:void 0===e.profileImageFileId?EtherFairy.R("default-profile.png"):EtherFairy.RF(e.profileImageFileId),backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",cursor:"pointer",borderRadius:10},on:{mouseover:()=>{0===r.getChildren().length&&r.append(UUI.V_CENTER({style:{width:200,height:200,background:"rgba(0, 0, 0, 0.5)",borderRadius:10,textAlign:"center"},c:MSG("CHANGE_PROFILE_IMAGE_BUTTON"),on:{mouseout:()=>{r.empty()}}}))},tap:()=>{i.select()}}}),i=UUI.FULL_UPLOAD_FORM({style:{position:"fixed",left:-999999,top:-999999},box:EtherFairy},{success:(e,i)=>{r.addStyle({backgroundImage:EtherFairy.RF(e.id)}),EtherFairy.MasterModel.update({id:t,profileImageFileId:e.id})}})]}),DIV({style:{marginLeft:20,flt:"left"},c:[n=DIV()]}),CLEAR_BOTH(),H3({style:{marginTop:30,fontSize:25},c:MSG("OWNER_HOME_OWNED_FAIRY_LIST")}),o=DIV({style:{marginTop:10},c:IMG({style:{width:100},src:EtherFairy.R("loading.svg")})})]})),EtherFairy.EtherFairyContract.balanceOf(t,e=>{n.append(MSG("OWNER_HOME_OWNED_FAIRY_COUNT")+" : "+e),o.empty(),REPEAT(e,e=>{let r=DIV().appendTo(o);EtherFairy.EtherFairyContract.masterToFairyIds({walletAddress:t,i:e},t=>{r.append(EtherFairy.FairyCard({style:{marginTop:10,marginRight:10,flt:"left",cursor:"pointer"
},fairyId:t,on:{tap:()=>{EtherFairy.GO("fairy/"+t)}}}))})}),o.append(CLEAR_BOTH())})})})}):EtherFairy.GO("start")}}),EtherFairy("Master").Info=CLASS({preset:()=>{return VIEW},init:(t,e)=>{EtherFairy.Layout.setContent(DIV({style:{padding:"50px 0"},c:"test"}))}}),EtherFairy("Master").Join=CLASS({preset:()=>{return VIEW},init:(t,e)=>{EtherFairy.WalletManager.getWalletAddress(t=>{EtherFairy.Layout.setContent(DIV({style:{padding:10},c:[H1({style:{fontSize:30,fontWeight:"bold",color:"#FFEA4F",marginBottom:20},c:MSG("JOIN_MASTER")}),P({c:MSG("WALLET_ADDRESS")+" : "+t}),UUI.VALID_FORM({errorMsgs:{nickname:{notEmpty:MSG("NOT_VALID_NICKNAME_NOT_EMPTY"),size:t=>{return MSG("NOT_VALID_NICKNAME_SIZE").replace(/{min}/,t.min).replace(/{max}/,t.max)}},isAgreedTerms:{equal:MSG("NOT_VALID_AGREED_TERMS")},isAgreedPrivacy:{equal:MSG("NOT_VALID_AGREED_PRIVACY")}},errorMsgStyle:{marginTop:5,color:"red"},c:[Yogurt.Input({style:{marginTop:10},name:"nickname",placeholder:MSG("NICKNAME")}),DIV({style:{marginTop:10},c:[Yogurt.Button({href:"ko"===INFO.getLang()?EtherFairy.R("terms-kr.html"):EtherFairy.R("terms.html"),target:"_blank",title:MSG("VIEW_TERMS")}),UUI.FULL_CHECKBOX({style:{marginTop:10},name:"isAgreedTerms",label:MSG("AGREE_TERMS")})]}),DIV({style:{marginTop:10},c:[Yogurt.Button({href:"ko"===INFO.getLang()?"https://btncafe.com/R/privacy-kr.html":"zh"===INFO.getLang().substring(0,2)?"https://btncafe.com/R/privacy-zh.html":"https://btncafe.com/R/privacy.html",target:"_blank",title:MSG("VIEW_PRIVACY")}),UUI.FULL_CHECKBOX({style:{marginTop:10},name:"isAgreedPrivacy",label:MSG("AGREE_PRIVACY")})]}),Yogurt.Submit({style:{marginTop:10},value:MSG("JOIN_DONE")})],on:{submit:(e,r)=>{let i=r.getData();i.id=t,EtherFairy.MasterModel.create(i,{notValid:r.showErrors,success:()=>{EtherFairy.REFRESH("master")}})}}})]}))})}}),EtherFairy("Master").Ranking=CLASS({preset:()=>{return VIEW},init:(t,e)=>{let r,i;EtherFairy.Layout.setContent(DIV({style:{padding:"50px 0"},c:DIV({style:{position:"relative",margin:"auto",width:882,height:966,backgroundImage:EtherFairy.R("rank/background.png")},c:[H1({style:{paddingTop:65,fontSize:24,fontWeight:"bold",color:"#ffde5c",textShadow:EtherFairy.TextBorderShadow("#160b00"),textAlign:"center"},c:MSG("OWNER_LEADERBOARD_TITLE")}),UUI.V_CENTER({style:{position:"absolute",top:62,right:34,width:177,height:34,textShadow:EtherFairy.TextBorderShadow("#160b00"),backgroundImage:EtherFairy.R("rank/sort.png"),textAlign:"center",cursor:"pointer"},c:MSG("OWN_FAIRY_COUNT_ORDER"),on:{tap:(t,e)=>{"fairyCount"===a?(a="totalFairyLevel",e.empty(),e.append(MSG("OWN_FAIRY_LEVEL_ORDER"))):"totalFairyLevel"===a?(a="totalFairyRating",e.empty(),e.append(MSG("OWN_FAIRY_RATING_ORDER"))):"totalFairyRating"===a&&(a="fairyCount",e.empty(),e.append(MSG("OWN_FAIRY_COUNT_ORDER"))),n=0,l()}}}),DIV({style:{width:800,margin:"auto",marginTop:22,textAlign:"center"},c:[DIV({style:{flt:"left",width:200},c:MSG("OWNER_NAME")}),DIV({style:{flt:"left",width:200},c:MSG("OWN_FAIRY_COUNT")}),DIV({style:{flt:"left",width:200},c:MSG("OWN_FAIRY_TOTAL_LEVEL")}),DIV({style:{flt:"left",width:200},c:MSG("OWN_FAIRY_TOTAL_RATING")}),CLEAR_BOTH()]}),r=DIV({style:{width:826,height:748,margin:"auto",marginTop:15}}),i=DIV({style:{margin:"auto",width:826}})]})}));let n=0,o=10,a="fairyCount",l=()=>{let t={};"fairyCount"===a?t.fairyCount=-1:"totalFairyLevel"===a?t.totalFairyLevel=-1:"totalFairyRating"===a&&(t.totalFairyRating=-1),EtherFairy.MasterModel.find({sort:t,start:n,count:o},t=>{r.empty(),EACH(t,(t,e)=>{r.append(DIV({style:{marginBottom:2,width:800,height:73,padding:"0 13px",backgroundImage:EtherFairy.R("rank/list.png"),textAlign:"center"},c:[UUI.V_CENTER({style:{flt:"left",height:73,width:30,marginRight:11,textShadow:EtherFairy.TextBorderShadow("#160b00"),color:"#ffde5c"},c:e+1}),UUI.V_CENTER({style:{flt:"left",height:73,width:68},c:DIV({style:{width:64,height:64,padding:2,backgroundImage:EtherFairy.R("rank/picture.png"),cursor:"pointer"},c:IMG({style:{width:63,height:63,borderRadius:3},src:void 0===t.profileImageFileId?EtherFairy.R("default-profile.png"):EtherFairy.RF(t.profileImageFileId)}),on:{tap:()=>{EtherFairy.GO("master/"+t.id)}}})}),UUI.V_CENTER({style:{flt:"left",height:73,width:71,marginLeft:20,textAlign:"left",textShadow:EtherFairy.TextBorderShadow("#160b00"),color:"#fff5cb"},c:A({c:t.nickname,on:{tap:()=>{EtherFairy.GO("master/"+t.id)}}})}),UUI.V_CENTER({style:{flt:"left",height:73,width:200},c:t.fairyCount}),UUI.V_CENTER({style:{flt:"left",height:73,width:200},c:t.totalFairyLevel}),UUI.V_CENTER({style:{flt:"left",height:73,width:200},c:t.totalFairyRating}),CLEAR_BOTH()]}))})})};l(),i.append(UUI.BUTTON_H({style:{marginTop:10,marginLeft:10,flt:"left",textShadow:EtherFairy.TextBorderShadow("#160b00")},icon:IMG({src:EtherFairy.R("rank/arrow.png")}),spacing:10,title:MSG("PREVIOUS_BUTTON"),on:{tap:()=>{n-=o,n<0&&(n=0),l()}}})),i.append(UUI.BUTTON_H({style:{marginTop:10,marginRight:12,flt:"right",textShadow:EtherFairy.TextBorderShadow("#160b00")},icon:IMG({style:{transform:"scaleX(-1)"},src:EtherFairy.R("rank/arrow.png")}),isIconRight:!0,spacing:10,title:MSG("NEXT_BUTTON"),on:{tap:()=>{n+=o,l()}}})),i.append(CLEAR_BOTH()),EtherFairy.EtherFairyContract.getMasterCount(t=>{console.log(t)}),EtherFairy.EtherFairyContract.getMasterIdsByFairyCount(t=>{EACH(t,t=>{EtherFairy.EtherFairyContract.masters(t,t=>{console.log(t)})})})}}),EtherFairy("Master").StartTradeFairy=CLASS({preset:()=>{return VIEW},init:(t,e)=>{let r;EtherFairy.Layout.setContent(DIV({style:{margin:"auto",width:1110,padding:"30px 0 50px 10px"},c:[P({c:MSG("SELECT_TO_TRADE_FAIRY")}),r=DIV({c:IMG({style:{width:100},src:EtherFairy.R("loading.svg")})})]})),EtherFairy.WalletManager.getWalletAddress(t=>{EtherFairy.MasterModel.get(t,{notExists:()=>{},success:()=>{EtherFairy.EtherFairyContract.balanceOf(t,e=>{r.empty(),REPEAT(e,e=>{let i=DIV().appendTo(r);EtherFairy.EtherFairyContract.getFairyId({walletAddress:t,i:e},t=>{i.append(EtherFairy.FairyCard({style:{marginTop:10,marginRight:10,flt:"left",cursor:"pointer"},fairyId:t,on:{tap:()=>{Yogurt.Prompt(MSG("ENTER_FAIRY_PRICE")+" (Ether)",e=>{EtherFairy.FairyMarketContract.startSale({fairyId:t,ether:REAL(e)},()=>{EtherFairy.GO("master/tradefairy")})})}}}))})}),r.append(CLEAR_BOTH())})}})})}}),EtherFairy("Master").TradeFairy=CLASS({preset:()=>{return VIEW},init:(t,e)=>{let r;EtherFairy.Layout.setContent(DIV({style:{margin:"auto",width:1110,padding:"30px 0 50px 10px"},c:[H1({style:{fontSize:30,fontWeight:"bold",color:"#FFEA4F",marginBottom:20},c:MSG("TRADE_FAIRY_TITLE")}),Yogurt.Button({title:MSG("TRADE_FAIRY_REGISTER_FAIRY_BUTTON"),on:{tap:()=>{EtherFairy.GO("master/starttradefairy")}}}),r=DIV({c:IMG({style:{width:100},src:EtherFairy.R("loading.svg")})})]})),EtherFairy.WalletManager.getWalletAddress(t=>{EtherFairy.MasterModel.get(t,{notExists:()=>{},success:()=>{EtherFairy.FairyMarketContract.getSaleCount(t=>{r.empty(),REPEAT(t,t=>{let e=DIV().appendTo(r);EtherFairy.FairyMarketContract.getSaleInfo(t,(t,r,i)=>{e.append(EtherFairy.FairyCard({style:{marginTop:10,marginRight:10,flt:"left",cursor:"pointer"},fairyId:r,on:{tap:()=>{EtherFairy.GO("fairy/"+r)}}}))})}),r.append(CLEAR_BOTH())})}})})}});